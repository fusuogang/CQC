<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<meta name="baidu-tc-verification" content="0fb041a64ee71333c957d8c784961cc8" />
<meta property="qc:admins" content="145637425211673116375" />
<meta http-equiv="X-UA-Compatible" content="IE=10,IE=9,IE=8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=0, minimum-scale=1.0, maximum-scale=1.0">
<title>Python爬虫实战四之抓取淘宝MM照片 | 静觅</title>
<script>
window._deel = {name: '静觅',url: 'http://cuiqingcai.com/wp-content/themes/Yusi', ajaxpager: '', commenton: 1, roll: [0,0]}
</script>

<!-- All in One SEO Pack 2.2.6.2 by Michael Torbert of Semper Fi Web Design[392,430] -->
<meta name="description" itemprop="description" content="福利啊福利，本次为大家带来的项目是抓取淘宝MM照片并保存起来，大家有没有很激动呢？ 友情提示 更新时间：2015/8/2 最近好多读者反映代码已经不能用了，原因是淘宝索引页的MM链接改了。网站改版了，URL的索引已经和之前的不一样了，之前可以直接跳转到每个MM的个性域名，现在中间加了一个跳转页，本以为可以通过" />

<meta name="keywords" itemprop="keywords" content="python,爬虫" />

<!-- /all in one seo pack -->
		<script type="text/javascript">
			window._wpemojiSettings = {"baseUrl":"http:\/\/s.w.org\/images\/core\/emoji\/72x72\/","ext":".png","source":{"concatemoji":"http:\/\/cuiqingcai.com\/wp-includes\/js\/wp-emoji-release.min.js?ver=4.2.5"}};
			!function(a,b,c){function d(a){var c=b.createElement("canvas"),d=c.getContext&&c.getContext("2d");return d&&d.fillText?(d.textBaseline="top",d.font="600 32px Arial","flag"===a?(d.fillText(String.fromCharCode(55356,56812,55356,56807),0,0),c.toDataURL().length>3e3):(d.fillText(String.fromCharCode(55357,56835),0,0),0!==d.getImageData(16,16,1,1).data[0])):!1}function e(a){var c=b.createElement("script");c.src=a,c.type="text/javascript",b.getElementsByTagName("head")[0].appendChild(c)}var f,g;c.supports={simple:d("simple"),flag:d("flag")},c.DOMReady=!1,c.readyCallback=function(){c.DOMReady=!0},c.supports.simple&&c.supports.flag||(g=function(){c.readyCallback()},b.addEventListener?(b.addEventListener("DOMContentLoaded",g,!1),a.addEventListener("load",g,!1)):(a.attachEvent("onload",g),b.attachEvent("onreadystatechange",function(){"complete"===b.readyState&&c.readyCallback()})),f=c.source||{},f.concatemoji?e(f.concatemoji):f.wpemoji&&f.twemoji&&(e(f.twemoji),e(f.wpemoji)))}(window,document,window._wpemojiSettings);
		</script>
		<style type="text/css">
img.wp-smiley,
img.emoji {
	display: inline !important;
	border: none !important;
	box-shadow: none !important;
	height: 1em !important;
	width: 1em !important;
	margin: 0 .07em !important;
	vertical-align: -0.1em !important;
	background: none !important;
	padding: 0 !important;
}
</style>
<link rel='stylesheet' id='crayon-css'  href='http://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/css/min/crayon.min.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-theme-github-css'  href='http://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/themes/github/github.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='crayon-font-monaco-css'  href='http://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/fonts/monaco.css?ver=2.7.1' type='text/css' media='all' />
<link rel='stylesheet' id='page-list-style-css'  href='http://cuiqingcai.com/wp-content/plugins/sitemap/css/page-list.css?ver=4.3' type='text/css' media='all' />
<link rel='stylesheet' id='style-css'  href='http://cuiqingcai.com/wp-content/themes/Yusi/style.css?ver=33' type='text/css' media='all' />
<script type="text/javascript">
var duoshuoQuery = {"short_name":"cuiqingcai","sso":{"login":"http:\/\/cuiqingcai.com\/wp-login.php?action=duoshuo_login","logout":"http:\/\/cuiqingcai.com\/wp-login.php?action=logout&_wpnonce=d6fca5fc89"},"theme":"default","stylePatch":"wordpress\/\u9759\u89c5"};
duoshuoQuery.sso.login += '&redirect_to=' + encodeURIComponent(window.location.href);
duoshuoQuery.sso.logout += '&redirect_to=' + encodeURIComponent(window.location.href);
</script>
<script type="text/javascript" src="http://static.duoshuo.com/embed.js" charset="UTF-8" async="async"></script>
<script type='text/javascript' src='//libs.baidu.com/jquery/1.8.3/jquery.min.js?ver=1.0'></script>
<script type='text/javascript'>
/* <![CDATA[ */
var CrayonSyntaxSettings = {"version":"2.7.1","is_admin":"0","ajaxurl":"http:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","prefix":"crayon-","setting":"crayon-setting","selected":"crayon-setting-selected","changed":"crayon-setting-changed","special":"crayon-setting-special","orig_value":"data-orig-value","debug":""};
var CrayonSyntaxStrings = {"copy":"\u4f7f\u7528 %s \u590d\u5236\uff0c\u4f7f\u7528 %s \u7c98\u8d34\u3002","minimize":"\u70b9\u51fb\u5c55\u5f00\u4ee3\u7801"};
/* ]]> */
</script>
<script type='text/javascript' src='http://cuiqingcai.com/wp-content/plugins/crayon-syntax-highlighter/js/min/crayon.min.js?ver=2.7.1'></script>
<script type='text/javascript' src='http://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.fitvids.js?ver=2.0.110526'></script>
<link rel='prev' title='Python爬虫实战三之计算大学本学期绩点' href='http://cuiqingcai.com/997.html' />
<link rel='next' title='Python爬虫学习系列教程' href='http://cuiqingcai.com/1052.html' />
<link rel='canonical' href='http://cuiqingcai.com/1001.html' />
<link rel='shortlink' href='http://cuiqingcai.com/?p=1001' />
<meta name="keywords" content="Python, 爬虫, Python">
<meta name="description" content="福利啊福利，本次为大家带来的项目是抓取淘宝MM照片并保存起来，大家有没有很激动呢？ 友情提示 更新时间：2015/8/2  最近好多读者反映代码已经不能用了，原因是淘宝索引页的MM链接改了。网站改版了，URL的索引已经和之前的不一样了，之前可以直接跳转到每个MM的个性域名，现在中间加了一个跳转页，本以为可以通过这个页面然后跳转到原来的个性域名，而经过一番折腾发现，这个跳转页中的内容是JS动态生成的，所以不能用Urllib库来直接抓取了，">
        <script type="text/javascript">
            jQuery(document).ready( function() {
                jQuery('.video').fitVids();
            });
        </script><!--[if lt IE 9]><script src="http://cuiqingcai.com/wp-content/themes/Yusi/js/html5.js"></script><![endif]-->

<script>
var _hmt = _hmt || [];
(function() {
  var hm = document.createElement("script");
  hm.src = "//hm.baidu.com/hm.js?3ef185224776ec2561c9f7066ead4f24";
  var s = document.getElementsByTagName("script")[0]; 
  s.parentNode.insertBefore(hm, s);
})();
</script>
<meta name="360-site-verification" content="bdc579accc68a98f1258ebcce2266afa" />
<script type="text/javascript" name="baidu-tc-cerfication" data-appid="5411405" src="http://apps.bdimg.com/cloudaapi/lightapp.js"></script>
<link rel="shortcut icon" type="image/x-icon" href="http://cuiqingcai.com/fav.png" />
<script type="text/javascript">
$(document).ready(function(){
	var imgs = new Array();
	imgs[0] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111154.jpg';
	imgs[1] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525111447.jpg';
	imgs[2] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112058.jpg';
	imgs[3] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112112.jpg';
	imgs[4] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112129.jpg';
	imgs[5] = 'http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/20150525112155.jpg';
	$('.ds-avatar img[src*="cdncache"]').each(function(){
		var rand = Math.floor(Math.random()*imgs.length);
		$(this).attr("src",imgs[rand]);
	})
});
</script>
</head>
<body class="single single-post postid-1001 single-format-standard">

<header id="header" class="header">
<div class="container-inner">
 <div class="yusi-logo">
                    <a href="/">
                        <h1>
                                                        <span class="yusi-mono">静觅</span>
                                                        <span class="yusi-bloger">静静寻觅生活的美好</span>
                                                    </h1>
                    </a>
    </div>
</div>

	<div id="nav-header" class="navbar">
		
		<ul class="nav">
			<li id="menu-item-44" class="menu-item menu-item-type-custom menu-item-object-custom menu-item-home menu-item-44"><a href="http://cuiqingcai.com">首页</a></li>
<li id="menu-item-14" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-has-children menu-item-14"><a href="http://cuiqingcai.com/category/life">生活笔记</a>
<ul class="sub-menu">
	<li id="menu-item-19" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-19"><a href="http://cuiqingcai.com/category/life/notes">个人随笔</a></li>
	<li id="menu-item-18" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-18"><a href="http://cuiqingcai.com/category/life/daily">个人日记</a></li>
	<li id="menu-item-15" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-15"><a href="http://cuiqingcai.com/category/life/presatation">个人展示</a></li>
</ul>
</li>
<li id="menu-item-7" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor menu-item-has-children menu-item-7"><a href="http://cuiqingcai.com/category/technique">技术杂谈</a>
<ul class="sub-menu">
	<li id="menu-item-9" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-9"><a href="http://cuiqingcai.com/category/technique/cc">C/C++</a></li>
	<li id="menu-item-11" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-11"><a href="http://cuiqingcai.com/category/technique/java">Java</a></li>
	<li id="menu-item-17" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-17"><a href="http://cuiqingcai.com/category/technique/php">PHP</a></li>
	<li id="menu-item-153" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-153"><a href="http://cuiqingcai.com/category/technique/html">HTML</a></li>
	<li id="menu-item-960" class="menu-item menu-item-type-taxonomy menu-item-object-category current-post-ancestor current-menu-parent current-post-parent menu-item-960"><a href="http://cuiqingcai.com/category/technique/python">Python</a></li>
	<li id="menu-item-1277" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-1277"><a href="http://cuiqingcai.com/category/technique/javascript">JS</a></li>
	<li id="menu-item-16" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-16"><a href="http://cuiqingcai.com/category/technique/other">Other</a></li>
</ul>
</li>
<li id="menu-item-418" class="menu-item menu-item-type-taxonomy menu-item-object-category menu-item-418"><a href="http://cuiqingcai.com/category/resources">福利专区</a></li>
<li id="menu-item-851" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-851"><a href="http://cuiqingcai.com/about">关于自己</a></li>
<li id="menu-item-251" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-251"><a href="http://cuiqingcai.com/contact">给我留言</a></li>
<li id="menu-item-1131" class="menu-item menu-item-type-post_type menu-item-object-page menu-item-1131"><a href="http://cuiqingcai.com/donate">赞助作者</a></li>
<li style="float:right;">
                    <div class="toggle-search"><i class="fa fa-search"></i></div>
<div class="search-expand" style="display: none;"><div class="search-expand-inner"><form method="get" class="searchform themeform" onsubmit="location.href='http://cuiqingcai.com/?s=' + encodeURIComponent(this.s.value).replace(/%20/g, '+'); return false;" action="/"><div> <input type="ext" class="search" name="s" onblur="if(this.value=='')this.value='search...';" onfocus="if(this.value=='search...')this.value='';" value="search..."></div></form></div></div>
</li>
		</ul>
	</div>
	</div>
</header>
<section class="container"><div class="speedbar">
					<div class="pull-right">
				<i class="fa fa-user"></i> <a href="/wp-login.php?action=register">投稿</a>&nbsp;&nbsp;&nbsp;   <i class="fa fa-power-off"></i> <a href="http://cuiqingcai.com/wp-login.php">登录</a>			</div>
				<div class="toptip"><strong class="text-success"><i class="fa fa-volume-up"></i> </strong>    欢迎来到我的博客，浏览文章时点击一下广告是您对我最大的支持，谢谢啦！</div>
	</div>
	<div class="content-wrap">
	<div class="content">
<div class="breadcrumbs"><a title="返回首页" href="http://cuiqingcai.com"><i class="fa fa-home"></i></a> <small>></small> <a href="http://cuiqingcai.com/category/technique">技术杂谈</a> <small>></small> <a href="http://cuiqingcai.com/category/technique/python">Python</a> <small>></small> <span class="muted">Python爬虫实战四之抓取淘宝MM照片</span></div>
				<header class="article-header">
			<h1 class="article-title"><a href="http://cuiqingcai.com/1001.html">Python爬虫实战四之抓取淘宝MM照片</a></h1>
			<div class="meta">
				<span id="mute-category" class="muted"><i class="fa fa-list-alt"></i><a href="http://cuiqingcai.com/category/technique/python"> Python</a></span>				<span class="muted"><i class="fa fa-user"></i> <a href="http://cuiqingcai.com/author/cqcre">崔庆才</a></span>
				<time class="muted"><i class="fa fa-clock-o"></i> 9个月前 (02-20)</time>
				<span class="muted"><i class="fa fa-eye"></i> 37269℃</span>
				<span class="muted"><i class="fa fa-comments-o"></i> <a href="http://cuiqingcai.com/1001.html#comments">81评论</a></span>							</div>
		</header>
<div class="banner banner-post"><!-- tuici -->
<script type="text/javascript">
    /* 创建于 2015-02-23*/
var cpro_id = "u1959022";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/cnw.js" type="text/javascript"></script>
<!-- biaoqian -->
<script type="text/javascript">
    /*860*60 创建于 2015-02-25*/
    var cpro_id = "u1959939";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>

</div>		<article class="article-content">
			<p>福利啊福利，本次为大家带来的项目是抓取淘宝MM照片并保存起来，大家有没有很激动呢？</p>
<h2>友情提示</h2>
<p>更新时间：2015/8/2</p>
<p>最近好多读者反映代码已经不能用了，原因是淘宝索引页的MM链接改了。网站改版了，URL的索引已经和之前的不一样了，之前可以直接跳转到每个MM的个性域名，现在中间加了一个跳转页，本以为可以通过这个页面然后跳转到原来的个性域名，而经过一番折腾发现，这个跳转页中的内容是JS动态生成的，所以不能用Urllib库来直接抓取了，本篇就只提供学习思路，代码不能继续用了。</p>
<p>之后博主会利用其它方法来尝试解决，如果解决，第一时间更新！谢谢大家！</p>
<h2>本篇目标</h2>
<p>1.抓取淘宝MM的姓名，头像，年龄</p>
<p>2.抓取每一个MM的资料简介以及写真图片</p>
<p>3.把每一个MM的写真图片按照文件夹保存到本地</p>
<p>4.熟悉文件保存的过程</p>
<h2>1.URL的格式</h2>
<p>在这里我们用到的URL是 <a href="http://mm.taobao.com/json/request_top_list.htm?page=1">http://mm.taobao.com/json/request_top_list.htm?page=1</a>，问号前面是基地址，后面的参数page是代表第几页，可以随意更换地址。点击开之后，会发现有一些淘宝MM的简介，并附有超链接链接到个人详情页面。</p>
<p>我们需要抓取本页面的头像地址，MM姓名，MM年龄，MM居住地，以及MM的个人详情页面地址。</p>
<h2>2.抓取简要信息</h2>
<p>相信大家经过上几次的实战，对抓取和提取页面的地址已经非常熟悉了，这里没有什么难度了，我们首先抓取本页面的MM详情页面地址，姓名，年龄等等的信息打印出来，直接贴代码如下</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f0d131061143" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
__author__ = 'CQC'
# -*- coding:utf-8 -*-

import urllib
import urllib2
import re

class Spider:

    def __init__(self):
        self.siteURL = 'http://mm.taobao.com/json/request_top_list.htm'

    def getPage(self,pageIndex):
        url = self.siteURL + "?page=" + str(pageIndex)
        print url
        request = urllib2.Request(url)
        response = urllib2.urlopen(request)
        return response.read().decode('gbk')

    def getContents(self,pageIndex):
        page = self.getPage(pageIndex)
        pattern = re.compile('&lt;div class="list-item".*?pic-word.*?&lt;a href="(.*?)".*?&lt;img src="(.*?)".*?&lt;a class="lady-name.*?&gt;(.*?)&lt;/a&gt;.*?&lt;strong&gt;(.*?)&lt;/strong&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;',re.S)
        items = re.findall(pattern,page)
        for item in items:
            print item[0],item[1],item[2],item[3],item[4]

spider = Spider()
spider.getContents(1)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-6">6</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-8">8</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-10">10</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-12">12</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-14">14</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-16">16</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-18">18</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-20">20</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-22">22</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-24">24</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-26">26</div><div class="crayon-num" data-line="crayon-5645b97b36f0d131061143-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f0d131061143-28">28</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f0d131061143-1"><span class="crayon-v">__author__</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'CQC'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-2"><span class="crayon-p"># -*- coding:utf-8 -*-</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-4"><span class="crayon-e">import </span><span class="crayon-e">urllib</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-5"><span class="crayon-e">import </span><span class="crayon-e">urllib2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-6"><span class="crayon-e">import </span><span class="crayon-e">re</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-7">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-8"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Spider</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">siteURL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://mm.taobao.com/json/request_top_list.htm'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-12">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getPage</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">siteURL</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"?page="</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-e">url</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-16"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">Request</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">decode</span><span class="crayon-sy">(</span><span class="crayon-s">'gbk'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-19">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getContents</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getPage</span><span class="crayon-sy">(</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pattern</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;div class="list-item".*?pic-word.*?&lt;a href="(.*?)".*?&lt;img src="(.*?)".*?&lt;a class="lady-name.*?&gt;(.*?)&lt;/a&gt;.*?&lt;strong&gt;(.*?)&lt;/strong&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;'</span><span class="crayon-sy">,</span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-v">S</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">items</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-v">pattern</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">items</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">print </span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">4</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-26">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f0d131061143-27"><span class="crayon-v">spider</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Spider</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f0d131061143-28"><span class="crayon-v">spider</span><span class="crayon-sy">.</span><span class="crayon-e">getContents</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0046 seconds] -->
<p>运行结果如下</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150220234132.jpg"><img class="alignnone size-full wp-image-1044" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150220234132.jpg" alt="QQ截图20150220234132" width="1055" height="312" /></a></p>
<h2> 2.文件写入简介</h2>
<p>在这里，我们有写入图片和写入文本两种方式</p>
<h3>1）写入图片</h3>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f1d728846775" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#传入图片地址，文件名，保存单张图片
def saveImg(self,imageURL,fileName):
     u = urllib.urlopen(imageURL)
     data = u.read()
     f = open(fileName, 'wb')
     f.write(data)
     f.close()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f1d728846775-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f1d728846775-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f1d728846775-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f1d728846775-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f1d728846775-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f1d728846775-6">6</div><div class="crayon-num" data-line="crayon-5645b97b36f1d728846775-7">7</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f1d728846775-1"><span class="crayon-p">#传入图片地址，文件名，保存单张图片</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f1d728846775-2"><span class="crayon-e">def </span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">imageURL</span><span class="crayon-sy">,</span><span class="crayon-v">fileName</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f1d728846775-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">u</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-v">imageURL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f1d728846775-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">u</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f1d728846775-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">fileName</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'wb'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f1d728846775-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f1d728846775-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<h3>2）写入文本</h3>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f23127389861" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
def saveBrief(self,content,name):
    fileName = name + "/" + name + ".txt"
    f = open(fileName,"w+")
    print u"正在偷偷保存她的个人信息为",fileName
    f.write(content.encode('utf-8'))</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f23127389861-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f23127389861-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f23127389861-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f23127389861-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f23127389861-5">5</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f23127389861-1"><span class="crayon-e">def </span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f23127389861-2"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".txt"</span></div><div class="crayon-line" id="crayon-5645b97b36f23127389861-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">fileName</span><span class="crayon-sy">,</span><span class="crayon-s">"w+"</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f23127389861-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"正在偷偷保存她的个人信息为"</span><span class="crayon-sy">,</span><span class="crayon-i">fileName</span></div><div class="crayon-line" id="crayon-5645b97b36f23127389861-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0014 seconds] -->
<p></p>
<h3>3）创建新目录</h3>
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f28048716262" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
#创建新目录
def mkdir(self,path):
    path = path.strip()
    # 判断路径是否存在
    # 存在     True
    # 不存在   False
    isExists=os.path.exists(path)
    # 判断结果
    if not isExists:
        # 如果不存在则创建目录
        # 创建目录操作函数
        os.makedirs(path)
        return True
    else:
        # 如果目录存在则不创建，并提示目录已存在
        return False</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-6">6</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-8">8</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-10">10</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-12">12</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-14">14</div><div class="crayon-num" data-line="crayon-5645b97b36f28048716262-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f28048716262-16">16</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f28048716262-1"><span class="crayon-p">#创建新目录</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-2"><span class="crayon-e">def </span><span class="crayon-e">mkdir</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-3"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-4"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 判断路径是否存在</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-5"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 存在&nbsp;&nbsp;&nbsp;&nbsp; True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-6"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 不存在&nbsp;&nbsp; False</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isExists</span><span class="crayon-o">=</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 判断结果</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">isExists</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 如果不存在则创建目录</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 创建目录操作函数</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f28048716262-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 如果目录存在则不创建，并提示目录已存在</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f28048716262-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">False</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0018 seconds] -->
<p></p>
<h2>3.代码完善</h2>
<p>主要的知识点已经在前面都涉及到了，如果大家前面的章节都已经看了，完成这个爬虫不在话下，具体的详情在此不再赘述，直接帖代码啦。</p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f2e767402286" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
spider.py</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f2e767402286-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f2e767402286-1"><span class="crayon-v">spider</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0002 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f33506980076" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
__author__ = 'CQC'
# -*- coding:utf-8 -*-

import urllib
import urllib2
import re
import tool
import os

#抓取MM
class Spider:

    #页面初始化
    def __init__(self):
        self.siteURL = 'http://mm.taobao.com/json/request_top_list.htm'
        self.tool = tool.Tool()

    #获取索引页面的内容
    def getPage(self,pageIndex):
        url = self.siteURL + "?page=" + str(pageIndex)
        request = urllib2.Request(url)
        response = urllib2.urlopen(request)
        return response.read().decode('gbk')

    #获取索引界面所有MM的信息，list格式
    def getContents(self,pageIndex):
        page = self.getPage(pageIndex)
        pattern = re.compile('&lt;div class="list-item".*?pic-word.*?&lt;a href="(.*?)".*?&lt;img src="(.*?)".*?&lt;a class="lady-name.*?&gt;(.*?)&lt;/a&gt;.*?&lt;strong&gt;(.*?)&lt;/strong&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;',re.S)
        items = re.findall(pattern,page)
        contents = []
        for item in items:
            contents.append([item[0],item[1],item[2],item[3],item[4]])
        return contents

    #获取MM个人详情页面
    def getDetailPage(self,infoURL):
        response = urllib2.urlopen(infoURL)
        return response.read().decode('gbk')

    #获取个人文字简介
    def getBrief(self,page):
        pattern = re.compile('&lt;div class="mm-aixiu-content".*?&gt;(.*?)&lt;!--',re.S)
        result = re.search(pattern,page)
        return self.tool.replace(result.group(1))

    #获取页面所有图片
    def getAllImg(self,page):
        pattern = re.compile('&lt;div class="mm-aixiu-content".*?&gt;(.*?)&lt;!--',re.S)
        #个人信息页面所有代码
        content = re.search(pattern,page)
        #从代码中提取图片
        patternImg = re.compile('&lt;img.*?src="(.*?)"',re.S)
        images = re.findall(patternImg,content.group(1))
        return images


    #保存多张写真图片
    def saveImgs(self,images,name):
        number = 1
        print u"发现",name,u"共有",len(images),u"张照片"
        for imageURL in images:
            splitPath = imageURL.split('.')
            fTail = splitPath.pop()
            if len(fTail) &gt; 3:
                fTail = "jpg"
            fileName = name + "/" + str(number) + "." + fTail
            self.saveImg(imageURL,fileName)
            number += 1

    # 保存头像
    def saveIcon(self,iconURL,name):
        splitPath = iconURL.split('.')
        fTail = splitPath.pop()
        fileName = name + "/icon." + fTail
        self.saveImg(iconURL,fileName)

    #保存个人简介
    def saveBrief(self,content,name):
        fileName = name + "/" + name + ".txt"
        f = open(fileName,"w+")
        print u"正在偷偷保存她的个人信息为",fileName
        f.write(content.encode('utf-8'))


    #传入图片地址，文件名，保存单张图片
    def saveImg(self,imageURL,fileName):
         u = urllib.urlopen(imageURL)
         data = u.read()
         f = open(fileName, 'wb')
         f.write(data)
         print u"正在悄悄保存她的一张图片为",fileName
         f.close()

    #创建新目录
    def mkdir(self,path):
        path = path.strip()
        # 判断路径是否存在
        # 存在     True
        # 不存在   False
        isExists=os.path.exists(path)
        # 判断结果
        if not isExists:
            # 如果不存在则创建目录
            print u"偷偷新建了名字叫做",path,u'的文件夹'
            # 创建目录操作函数
            os.makedirs(path)
            return True
        else:
            # 如果目录存在则不创建，并提示目录已存在
            print u"名为",path,'的文件夹已经创建成功'
            return False

    #将一页淘宝MM的信息保存起来
    def savePageInfo(self,pageIndex):
        #获取第一页淘宝MM列表
        contents = self.getContents(pageIndex)
        for item in contents:
            #item[0]个人详情URL,item[1]头像URL,item[2]姓名,item[3]年龄,item[4]居住地
            print u"发现一位模特,名字叫",item[2],u"芳龄",item[3],u",她在",item[4]
            print u"正在偷偷地保存",item[2],"的信息"
            print u"又意外地发现她的个人地址是",item[0]
            #个人详情页面的URL
            detailURL = item[0]
            #得到个人详情页面代码
            detailPage = self.getDetailPage(detailURL)
            #获取个人简介
            brief = self.getBrief(detailPage)
            #获取所有图片列表
            images = self.getAllImg(detailPage)
            self.mkdir(item[2])
            #保存个人简介
            self.saveBrief(brief,item[2])
            #保存头像
            self.saveIcon(item[1],item[2])
            #保存图片
            self.saveImgs(images,item[2])

    #传入起止页码，获取MM图片
    def savePagesInfo(self,start,end):
        for i in range(start,end+1):
            print u"正在偷偷寻找第",i,u"个地方，看看MM们在不在"
            self.savePageInfo(i)


#传入起止页码即可，在此传入了2,10,表示抓取第2到10页的MM
spider = Spider()
spider.savePagesInfo(2,10)</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-6">6</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-8">8</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-10">10</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-12">12</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-14">14</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-16">16</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-18">18</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-20">20</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-22">22</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-24">24</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-26">26</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-28">28</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-30">30</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-31">31</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-32">32</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-33">33</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-34">34</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-35">35</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-36">36</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-37">37</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-38">38</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-39">39</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-40">40</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-41">41</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-42">42</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-43">43</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-44">44</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-45">45</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-46">46</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-47">47</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-48">48</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-49">49</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-50">50</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-51">51</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-52">52</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-53">53</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-54">54</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-55">55</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-56">56</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-57">57</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-58">58</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-59">59</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-60">60</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-61">61</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-62">62</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-63">63</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-64">64</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-65">65</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-66">66</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-67">67</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-68">68</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-69">69</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-70">70</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-71">71</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-72">72</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-73">73</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-74">74</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-75">75</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-76">76</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-77">77</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-78">78</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-79">79</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-80">80</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-81">81</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-82">82</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-83">83</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-84">84</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-85">85</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-86">86</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-87">87</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-88">88</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-89">89</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-90">90</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-91">91</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-92">92</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-93">93</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-94">94</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-95">95</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-96">96</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-97">97</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-98">98</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-99">99</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-100">100</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-101">101</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-102">102</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-103">103</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-104">104</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-105">105</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-106">106</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-107">107</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-108">108</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-109">109</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-110">110</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-111">111</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-112">112</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-113">113</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-114">114</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-115">115</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-116">116</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-117">117</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-118">118</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-119">119</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-120">120</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-121">121</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-122">122</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-123">123</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-124">124</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-125">125</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-126">126</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-127">127</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-128">128</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-129">129</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-130">130</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-131">131</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-132">132</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-133">133</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-134">134</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-135">135</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-136">136</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-137">137</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-138">138</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-139">139</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-140">140</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-141">141</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-142">142</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-143">143</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-144">144</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-145">145</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f33506980076-146">146</div><div class="crayon-num" data-line="crayon-5645b97b36f33506980076-147">147</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f33506980076-1"><span class="crayon-v">__author__</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'CQC'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-2"><span class="crayon-p"># -*- coding:utf-8 -*-</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-3">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-4"><span class="crayon-e">import </span><span class="crayon-e">urllib</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-5"><span class="crayon-e">import </span><span class="crayon-e">urllib2</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-6"><span class="crayon-e">import </span><span class="crayon-e">re</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-7"><span class="crayon-e">import </span><span class="crayon-e">tool</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-8"><span class="crayon-e">import </span><span class="crayon-v">os</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-9">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-10"><span class="crayon-p">#抓取MM</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-11"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Spider</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-12">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#页面初始化</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">__init__</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">siteURL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'http://mm.taobao.com/json/request_top_list.htm'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">tool</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">tool</span><span class="crayon-sy">.</span><span class="crayon-e">Tool</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-17">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取索引页面的内容</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getPage</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">url</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">siteURL</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"?page="</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">request</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">Request</span><span class="crayon-sy">(</span><span class="crayon-v">url</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-v">request</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">decode</span><span class="crayon-sy">(</span><span class="crayon-s">'gbk'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-24">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取索引界面所有MM的信息，list格式</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getContents</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">page</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getPage</span><span class="crayon-sy">(</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pattern</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;div class="list-item".*?pic-word.*?&lt;a href="(.*?)".*?&lt;img src="(.*?)".*?&lt;a class="lady-name.*?&gt;(.*?)&lt;/a&gt;.*?&lt;strong&gt;(.*?)&lt;/strong&gt;.*?&lt;span&gt;(.*?)&lt;/span&gt;'</span><span class="crayon-sy">,</span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-v">S</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">items</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-v">pattern</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-sy">[</span><span class="crayon-sy">]</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-31"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">items</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-32"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-sy">.</span><span class="crayon-e">append</span><span class="crayon-sy">(</span><span class="crayon-sy">[</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">4</span><span class="crayon-sy">]</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-33"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">contents</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-34">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-35"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取MM个人详情页面</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-36"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getDetailPage</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">infoURL</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-37"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">response</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib2</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-v">infoURL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-38"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">response</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span><span class="crayon-sy">.</span><span class="crayon-e">decode</span><span class="crayon-sy">(</span><span class="crayon-s">'gbk'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-39">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-40"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取个人文字简介</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-41"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getBrief</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-42"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pattern</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;div class="mm-aixiu-content".*?&gt;(.*?)&lt;!--'</span><span class="crayon-sy">,</span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-v">S</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-43"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">result</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">search</span><span class="crayon-sy">(</span><span class="crayon-v">pattern</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-44"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">tool</span><span class="crayon-sy">.</span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-v">result</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-45">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-46"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取页面所有图片</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-47"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">getAllImg</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-48"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">pattern</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;div class="mm-aixiu-content".*?&gt;(.*?)&lt;!--'</span><span class="crayon-sy">,</span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-v">S</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-49"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#个人信息页面所有代码</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-50"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">content</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">search</span><span class="crayon-sy">(</span><span class="crayon-v">pattern</span><span class="crayon-sy">,</span><span class="crayon-v">page</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-51"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#从代码中提取图片</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-52"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">patternImg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;img.*?src="(.*?)"'</span><span class="crayon-sy">,</span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-v">S</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-53"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">images</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">findall</span><span class="crayon-sy">(</span><span class="crayon-v">patternImg</span><span class="crayon-sy">,</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">group</span><span class="crayon-sy">(</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-54"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">images</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-55">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-56">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-57"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#保存多张写真图片</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-58"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">saveImgs</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">images</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-59"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">number</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-60"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"发现"</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">"共有"</span><span class="crayon-sy">,</span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">images</span><span class="crayon-sy">)</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">"张照片"</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-61"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">imageURL </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">images</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-62"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">splitPath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">imageURL</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-63"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fTail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">splitPath</span><span class="crayon-sy">.</span><span class="crayon-e">pop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-64"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-e">len</span><span class="crayon-sy">(</span><span class="crayon-v">fTail</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">&gt;</span><span class="crayon-h"> </span><span class="crayon-cn">3</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-65"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fTail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">"jpg"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-66"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">str</span><span class="crayon-sy">(</span><span class="crayon-v">number</span><span class="crayon-sy">)</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">fTail</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-67"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-v">imageURL</span><span class="crayon-sy">,</span><span class="crayon-v">fileName</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-68"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">number</span><span class="crayon-h"> </span><span class="crayon-o">+=</span><span class="crayon-h"> </span><span class="crayon-cn">1</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-69">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-70"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 保存头像</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-71"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">saveIcon</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">iconURL</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-72"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">splitPath</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">iconURL</span><span class="crayon-sy">.</span><span class="crayon-e">split</span><span class="crayon-sy">(</span><span class="crayon-s">'.'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-73"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fTail</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">splitPath</span><span class="crayon-sy">.</span><span class="crayon-e">pop</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-74"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/icon."</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-e">fTail</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-75"><span class="crayon-e">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-v">iconURL</span><span class="crayon-sy">,</span><span class="crayon-v">fileName</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-76">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-77"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#保存个人简介</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-78"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">content</span><span class="crayon-sy">,</span><span class="crayon-v">name</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-79"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">fileName</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">"/"</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-v">name</span><span class="crayon-h"> </span><span class="crayon-o">+</span><span class="crayon-h"> </span><span class="crayon-s">".txt"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-80"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">fileName</span><span class="crayon-sy">,</span><span class="crayon-s">"w+"</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-81"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"正在偷偷保存她的个人信息为"</span><span class="crayon-sy">,</span><span class="crayon-i">fileName</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-82"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">content</span><span class="crayon-sy">.</span><span class="crayon-e">encode</span><span class="crayon-sy">(</span><span class="crayon-s">'utf-8'</span><span class="crayon-sy">)</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-83">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-84">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-85"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#传入图片地址，文件名，保存单张图片</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-86"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">saveImg</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">imageURL</span><span class="crayon-sy">,</span><span class="crayon-v">fileName</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-87"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">u</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">urllib</span><span class="crayon-sy">.</span><span class="crayon-e">urlopen</span><span class="crayon-sy">(</span><span class="crayon-v">imageURL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-88"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">data</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">u</span><span class="crayon-sy">.</span><span class="crayon-e">read</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-89"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">open</span><span class="crayon-sy">(</span><span class="crayon-v">fileName</span><span class="crayon-sy">,</span><span class="crayon-h"> </span><span class="crayon-s">'wb'</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-90"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">write</span><span class="crayon-sy">(</span><span class="crayon-v">data</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-91"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"正在悄悄保存她的一张图片为"</span><span class="crayon-sy">,</span><span class="crayon-i">fileName</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-92"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; </span><span class="crayon-v">f</span><span class="crayon-sy">.</span><span class="crayon-e">close</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-93">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-94"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#创建新目录</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-95"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">mkdir</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">path</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-96"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">path</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-97"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 判断路径是否存在</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-98"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 存在&nbsp;&nbsp;&nbsp;&nbsp; True</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-99"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 不存在&nbsp;&nbsp; False</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-100"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">isExists</span><span class="crayon-o">=</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-v">path</span><span class="crayon-sy">.</span><span class="crayon-e">exists</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-101"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 判断结果</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-102"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">if</span><span class="crayon-h"> </span><span class="crayon-st">not</span><span class="crayon-h"> </span><span class="crayon-v">isExists</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-103"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 如果不存在则创建目录</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-104"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"偷偷新建了名字叫做"</span><span class="crayon-sy">,</span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">'的文件夹'</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-105"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 创建目录操作函数</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-106"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">os</span><span class="crayon-sy">.</span><span class="crayon-e">makedirs</span><span class="crayon-sy">(</span><span class="crayon-v">path</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-107"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">True</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-108"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">else</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-109"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p"># 如果目录存在则不创建，并提示目录已存在</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-110"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"名为"</span><span class="crayon-sy">,</span><span class="crayon-v">path</span><span class="crayon-sy">,</span><span class="crayon-s">'的文件夹已经创建成功'</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-111"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-t">False</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-112">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-113"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将一页淘宝MM的信息保存起来</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-114"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">savePageInfo</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-115"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取第一页淘宝MM列表</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-116"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">contents</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getContents</span><span class="crayon-sy">(</span><span class="crayon-v">pageIndex</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-117"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-e">item </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-v">contents</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-118"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#item[0]个人详情URL,item[1]头像URL,item[2]姓名,item[3]年龄,item[4]居住地</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-119"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"发现一位模特,名字叫"</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">"芳龄"</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">3</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">",她在"</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">4</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-120"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"正在偷偷地保存"</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-s">"的信息"</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-121"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"又意外地发现她的个人地址是"</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-122"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#个人详情页面的URL</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-123"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">detailURL</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">0</span><span class="crayon-sy">]</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-124"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#得到个人详情页面代码</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-125"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">detailPage</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getDetailPage</span><span class="crayon-sy">(</span><span class="crayon-v">detailURL</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-126"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取个人简介</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-127"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">brief</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getBrief</span><span class="crayon-sy">(</span><span class="crayon-v">detailPage</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-128"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#获取所有图片列表</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-129"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">images</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">getAllImg</span><span class="crayon-sy">(</span><span class="crayon-v">detailPage</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-130"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">mkdir</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-131"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#保存个人简介</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-132"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">saveBrief</span><span class="crayon-sy">(</span><span class="crayon-v">brief</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-133"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#保存头像</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-134"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">saveIcon</span><span class="crayon-sy">(</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">1</span><span class="crayon-sy">]</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-135"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#保存图片</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-136"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">saveImgs</span><span class="crayon-sy">(</span><span class="crayon-v">images</span><span class="crayon-sy">,</span><span class="crayon-v">item</span><span class="crayon-sy">[</span><span class="crayon-cn">2</span><span class="crayon-sy">]</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-137">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-138"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#传入起止页码，获取MM图片</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-139"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">savePagesInfo</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">start</span><span class="crayon-sy">,</span><span class="crayon-st">end</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-140"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">for</span><span class="crayon-h"> </span><span class="crayon-i">i</span><span class="crayon-h"> </span><span class="crayon-st">in</span><span class="crayon-h"> </span><span class="crayon-e">range</span><span class="crayon-sy">(</span><span class="crayon-v">start</span><span class="crayon-sy">,</span><span class="crayon-st">end</span><span class="crayon-o">+</span><span class="crayon-cn">1</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-141"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-i">print</span><span class="crayon-h"> </span><span class="crayon-i">u</span><span class="crayon-s">"正在偷偷寻找第"</span><span class="crayon-sy">,</span><span class="crayon-v">i</span><span class="crayon-sy">,</span><span class="crayon-i">u</span><span class="crayon-s">"个地方，看看MM们在不在"</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-142"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-e">savePageInfo</span><span class="crayon-sy">(</span><span class="crayon-v">i</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-143">&nbsp;</div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-144">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f33506980076-145"><span class="crayon-p">#传入起止页码即可，在此传入了2,10,表示抓取第2到10页的MM</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f33506980076-146"><span class="crayon-v">spider</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-e">Spider</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f33506980076-147"><span class="crayon-v">spider</span><span class="crayon-sy">.</span><span class="crayon-e">savePagesInfo</span><span class="crayon-sy">(</span><span class="crayon-cn">2</span><span class="crayon-sy">,</span><span class="crayon-cn">10</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0252 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f3e661472153" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
tool.py</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f3e661472153-1">1</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f3e661472153-1"><span class="crayon-v">tool</span><span class="crayon-sy">.</span><span class="crayon-v">py</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0003 seconds] -->
<p></p><!-- Crayon Syntax Highlighter v2.7.1 -->

		<div id="crayon-5645b97b36f43989834841" class="crayon-syntax crayon-theme-github crayon-font-monaco crayon-os-pc print-yes notranslate" data-settings=" minimize scroll-mouseover wrap" style=" margin-top: 12px; margin-bottom: 12px; float: left; font-size: 12px !important; line-height: 15px !important;">
		
			<div class="crayon-toolbar" data-settings=" mouseover overlay hide delay" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><span class="crayon-title"></span>
			<div class="crayon-tools" style="font-size: 12px !important;height: 18px !important; line-height: 18px !important;"><div class="crayon-button crayon-nums-button" title="切换是否显示行编号"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-plain-button" title="纯文本显示代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-wrap-button" title="切换自动换行"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-expand-button" title="点击展开代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-copy-button" title="复制代码"><div class="crayon-button-icon"></div></div><div class="crayon-button crayon-popup-button" title="在新窗口中显示代码"><div class="crayon-button-icon"></div></div></div></div>
			<div class="crayon-info" style="min-height: 16.8px !important; line-height: 16.8px !important;"></div>
			<div class="crayon-plain-wrap"><textarea  class="crayon-plain print-no" data-settings="dblclick" readonly style="-moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4; font-size: 12px !important; line-height: 15px !important;">
__author__ = 'CQC'
#-*- coding:utf-8 -*-
import re

#处理页面标签类
class Tool:
    #去除img标签,1-7位空格,&amp;nbsp;
    removeImg = re.compile('&lt;img.*?&gt;| {1,7}|&amp;nbsp;')
    #删除超链接标签
    removeAddr = re.compile('&lt;a.*?&gt;|&lt;/a&gt;')
    #把换行的标签换为\n
    replaceLine = re.compile('&lt;tr&gt;|&lt;div&gt;|&lt;/div&gt;|&lt;/p&gt;')
    #将表格制表&lt;td&gt;替换为\t
    replaceTD= re.compile('&lt;td&gt;')
    #将换行符或双换行符替换为\n
    replaceBR = re.compile('&lt;br&gt;&lt;br&gt;|&lt;br&gt;')
    #将其余标签剔除
    removeExtraTag = re.compile('&lt;.*?&gt;')
    #将多行空行删除
    removeNoneLine = re.compile('\n+')
    def replace(self,x):
        x = re.sub(self.removeImg,"",x)
        x = re.sub(self.removeAddr,"",x)
        x = re.sub(self.replaceLine,"\n",x)
        x = re.sub(self.replaceTD,"\t",x)
        x = re.sub(self.replaceBR,"\n",x)
        x = re.sub(self.removeExtraTag,"",x)
        x = re.sub(self.removeNoneLine,"\n",x)
        #strip()将前后多余内容删除
        return x.strip()</textarea></div>
			<div class="crayon-main" style="">
				<table class="crayon-table">
					<tr class="crayon-row">
				<td class="crayon-nums " data-settings="show">
					<div class="crayon-nums-content" style="font-size: 12px !important; line-height: 15px !important;"><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-1">1</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-2">2</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-3">3</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-4">4</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-5">5</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-6">6</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-7">7</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-8">8</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-9">9</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-10">10</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-11">11</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-12">12</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-13">13</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-14">14</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-15">15</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-16">16</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-17">17</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-18">18</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-19">19</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-20">20</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-21">21</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-22">22</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-23">23</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-24">24</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-25">25</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-26">26</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-27">27</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-28">28</div><div class="crayon-num" data-line="crayon-5645b97b36f43989834841-29">29</div><div class="crayon-num crayon-striped-num" data-line="crayon-5645b97b36f43989834841-30">30</div></div>
				</td>
						<td class="crayon-code"><div class="crayon-pre" style="font-size: 12px !important; line-height: 15px !important; -moz-tab-size:4; -o-tab-size:4; -webkit-tab-size:4; tab-size:4;"><div class="crayon-line" id="crayon-5645b97b36f43989834841-1"><span class="crayon-v">__author__</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-s">'CQC'</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-2"><span class="crayon-p">#-*- coding:utf-8 -*-</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-3"><span class="crayon-e">import </span><span class="crayon-v">re</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-4">&nbsp;</div><div class="crayon-line" id="crayon-5645b97b36f43989834841-5"><span class="crayon-p">#处理页面标签类</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-6"><span class="crayon-t">class</span><span class="crayon-h"> </span><span class="crayon-v">Tool</span><span class="crayon-o">:</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-7"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#去除img标签,1-7位空格,&amp;nbsp;</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-8"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">removeImg</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;img.*?&gt;| {1,7}|&amp;nbsp;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-9"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#删除超链接标签</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-10"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">removeAddr</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;a.*?&gt;|&lt;/a&gt;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-11"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#把换行的标签换为\n</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-12"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">replaceLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;tr&gt;|&lt;div&gt;|&lt;/div&gt;|&lt;/p&gt;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-13"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将表格制表&lt;td&gt;替换为\t</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-14"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">replaceTD</span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;td&gt;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-15"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将换行符或双换行符替换为\n</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-16"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">replaceBR</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;br&gt;&lt;br&gt;|&lt;br&gt;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-17"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将其余标签剔除</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-18"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">removeExtraTag</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'&lt;.*?&gt;'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-19"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#将多行空行删除</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-20"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">removeNoneLine</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">compile</span><span class="crayon-sy">(</span><span class="crayon-s">'\n+'</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-21"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-e">def </span><span class="crayon-e">replace</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span><span class="crayon-o">:</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-22"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">removeImg</span><span class="crayon-sy">,</span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-23"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">removeAddr</span><span class="crayon-sy">,</span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-24"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">replaceLine</span><span class="crayon-sy">,</span><span class="crayon-s">"\n"</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-25"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">replaceTD</span><span class="crayon-sy">,</span><span class="crayon-s">"\t"</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-26"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">replaceBR</span><span class="crayon-sy">,</span><span class="crayon-s">"\n"</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-27"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">removeExtraTag</span><span class="crayon-sy">,</span><span class="crayon-s">""</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-28"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-v">x</span><span class="crayon-h"> </span><span class="crayon-o">=</span><span class="crayon-h"> </span><span class="crayon-v">re</span><span class="crayon-sy">.</span><span class="crayon-e">sub</span><span class="crayon-sy">(</span><span class="crayon-r">self</span><span class="crayon-sy">.</span><span class="crayon-v">removeNoneLine</span><span class="crayon-sy">,</span><span class="crayon-s">"\n"</span><span class="crayon-sy">,</span><span class="crayon-v">x</span><span class="crayon-sy">)</span></div><div class="crayon-line" id="crayon-5645b97b36f43989834841-29"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-p">#strip()将前后多余内容删除</span></div><div class="crayon-line crayon-striped-line" id="crayon-5645b97b36f43989834841-30"><span class="crayon-h">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="crayon-st">return</span><span class="crayon-h"> </span><span class="crayon-v">x</span><span class="crayon-sy">.</span><span class="crayon-e">strip</span><span class="crayon-sy">(</span><span class="crayon-sy">)</span></div></div></td>
					</tr>
				</table>
			</div>
		</div>
<!-- [Format Time: 0.0057 seconds] -->
<p>以上两个文件就是所有的代码内容，运行一下试试看，那叫一个酸爽啊</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221020543.jpg"><img class="alignnone size-full wp-image-1046" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221020543.jpg" alt="QQ截图20150221020543" width="460" height="484" /></a></p>
<p>&nbsp;</p>
<p>看看文件夹里面有什么变化</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221020709.jpg"><img class="alignnone size-full wp-image-1047" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221020709.jpg" alt="QQ截图20150221020709" width="485" height="489" /></a></p>
<p>&nbsp;</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221021032.jpg"><img class="alignnone size-full wp-image-1050" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/QQ截图20150221021032.jpg" alt="QQ截图20150221021032" width="484" height="533" /></a></p>
<p>不知不觉，海量的MM图片已经进入了你的电脑，还不快快去试试看！！</p>
<p>代码均为本人所敲，写的不好，大神勿喷，写来方便自己，同时分享给大家参考！希望大家支持！</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/1001.html">Python爬虫实战四之抓取淘宝MM照片</a></p>

      
<div class="article-social">
			<a href="javascript:;" data-action="ding" data-id="1001" id="Addlike" class="action"><i class="fa fa-heart-o"></i>喜欢 (<span class="count">160</span>)</a><span class="or">or</span><span class="action action-share bdsharebuttonbox"><i class="fa fa-share-alt"></i>分享 (<span class="bds_count" data-cmd="count" title="累计分享0次">0</span>)<div class="action-popover"><div class="popover top in"><div class="arrow"></div><div class="popover-content"><a href="#" class="sinaweibo fa fa-weibo" data-cmd="tsina" title="分享到新浪微博"></a><a href="#" class="bds_qzone fa fa-star" data-cmd="qzone" title="分享到QQ空间"></a><a href="#" class="tencentweibo fa fa-tencent-weibo" data-cmd="tqq" title="分享到腾讯微博"></a><a href="#" class="qq fa fa-qq" data-cmd="sqq" title="分享到QQ好友"></a><a href="#" class="bds_renren fa fa-renren" data-cmd="renren" title="分享到人人网"></a><a href="#" class="bds_weixin fa fa-weixin" data-cmd="weixin" title="分享到微信"></a><a href="#" class="bds_more fa fa-ellipsis-h" data-cmd="more"></a></div></div></div></span>	
</div>
	</article>	
				<div style="background:#fff;padding-bottom:20px;font-size:14px;">
			<p style="text-align: center;margin-bottom:20px;padding:0px 20px">您的支持是博主写作最大的动力，如果您喜欢我的文章，感觉我的文章对您有帮助，请狠狠点击下面的</p>
			<p style="text-align: center;"><a href="http://cuiqingcai.com/donate"> <input style="width: 310px; margin: 10px auto 0px; background-color: #f58a87; color: #ffffff; height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" type="button" value="我要小额赞助" /></a>
		</div>
		<footer class="article-footer">
			<div class="article-tags"><i class="fa fa-tags"></i><a href="http://cuiqingcai.com/tag/python" rel="tag">Python</a><a href="http://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab" rel="tag">爬虫</a></div>		</footer>
	<nav class="article-nav">
			<span class="article-nav-prev"><i class="fa fa-angle-double-left"></i> <a href="http://cuiqingcai.com/997.html" rel="prev">Python爬虫实战三之计算大学本学期绩点</a></span>
			<span class="article-nav-next"><a href="http://cuiqingcai.com/1052.html" rel="next">Python爬虫学习系列教程</a>  <i class="fa fa-angle-double-right"></i></span>
		</nav>

		<div class="related_top">
			<div class="related_posts"><ul class="related_img">

		<li class="related_box"  >
		<a href="http://cuiqingcai.com/2083.html" title="自己动手实现山东大学QLSC_STU无线网络掉线后自动重连" target="_blank">
<img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/09/wallpaper_5265780.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="自己动手实现山东大学QLSC_STU无线网络掉线后自动重连" />	<br><span class="r_title">自己动手实现山东大学QLSC_STU无线网络掉线后自动重连</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="http://cuiqingcai.com/1972.html" title="Python爬虫实战六之抓取爱问知识人问题并保存至数据库" target="_blank">
<img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/09/wallpaper_5265771.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="Python爬虫实战六之抓取爱问知识人问题并保存至数据库" />	<br><span class="r_title">Python爬虫实战六之抓取爱问知识人问题并保存至数据库</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="http://cuiqingcai.com/1707.html" title="Python中ValueError: invalid literal for int() with base 10 的实用解决办法" target="_blank">
<img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5263464.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="Python中ValueError: invalid literal for int() with base 10 的实用解决办法" />	<br><span class="r_title">Python中ValueError: invalid literal for int() with base 10 的实用解决办法</span></a>
		</li>
	
		<li class="related_box"  >
		<a href="http://cuiqingcai.com/1319.html" title="Python爬虫入门八之Beautiful Soup的用法" target="_blank">
<img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/wallpaper_52546561.jpg&h=110&w=185&q=90&zc=1&ct=1" alt="Python爬虫入门八之Beautiful Soup的用法" />	<br><span class="r_title">Python爬虫入门八之Beautiful Soup的用法</span></a>
		</li>
	</ul>

<div class="relates">
<ul>
<li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/2083.html">自己动手实现山东大学QLSC_STU无线网络掉线后自动重连</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/1972.html">Python爬虫实战六之抓取爱问知识人问题并保存至数据库</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/1707.html">Python中ValueError: invalid literal for int() with base 10 的实用解决办法</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/1319.html">Python爬虫入门八之Beautiful Soup的用法</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/1076.html">Python爬虫实战五之模拟登录淘宝并获取所有订单</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/1052.html">Python爬虫学习系列教程</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/997.html">Python爬虫实战三之计算大学本学期绩点</a></li><li><i class="fa fa-minus"></i><a href="http://cuiqingcai.com/993.html">Python爬虫实战二之爬取百度贴吧帖子</a></li>
</ul></div></div>		</div>
						<a name="comments"></a>

<div class="ds-thread" data-thread-key="1001" data-author-key="1" data-title="Python爬虫实战四之抓取淘宝MM照片" data-url="http://cuiqingcai.com/1001.html"></div>

<script type="text/javascript">
	if (typeof DUOSHUO !== 'undefined')
		DUOSHUO.EmbedThread('.ds-thread');
</script>
	<div id="ds-ssr">

				<nav id="comment-nav-above">
			<h1 class="assistive-text">Comment navigation</h1>
			<div class="nav-previous"><a href="http://cuiqingcai.com/1001.html/comment-page-2#comments" >&larr; Older Comments</a></div>
			<div class="nav-next"></div>
		</nav>
		
            <ol id="commentlist">
                		<li class="comment even thread-even depth-1" id="li-comment-880">
			<article id="comment-880" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://7xmgbz.com1.z0.glb.clouddn.com//y18/index.html?910524423' rel='external nofollow' class='url'>糗事百科</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-880"><time pubdate datetime="2015-10-02T19:14:11+00:00">2015年10月2日 at 下午7:14</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>太厉害啦！值得我们学习</p>
</div>
				
			</article><!-- #comment-## -->
		<ul class="children">
		<li class="duoshuo byuser comment-author-cqcre bypostauthor odd alt depth-2" id="li-comment-955">
			<article id="comment-955" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://cuiqingcai.com/' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-955"><time pubdate datetime="2015-10-25T22:40:00+00:00">2015年10月25日 at 下午10:40</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>谢谢啦</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="li-comment-795">
			<article id="comment-795" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/zcp1522042149' rel='external nofollow' class='url'>微酒</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-795"><time pubdate datetime="2015-09-13T23:46:27+00:00">2015年9月13日 at 下午11:46</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>tool包用不起呢？？要怎么？安装</p>
</div>
				
			</article><!-- #comment-## -->
		<ul class="children">
		<li class="comment byuser comment-author-cqcre bypostauthor odd alt depth-2" id="li-comment-818">
			<article id="comment-818" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://cuiqingcai.com/' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-818"><time pubdate datetime="2015-09-17T23:17:49+00:00">2015年9月17日 at 下午11:17</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>不是的呀，就是我写的那个tool.py呀</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="duoshuo byuser comment-author-cqcre bypostauthor even depth-2" id="li-comment-939">
			<article id="comment-939" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://cuiqingcai.com/' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-939"><time pubdate datetime="2015-10-25T22:35:14+00:00">2015年10月25日 at 下午10:35</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>tool.py是自定义的文件啦</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="li-comment-771">
			<article id="comment-771" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">空间阳</span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-771"><time pubdate datetime="2015-09-05T01:03:00+00:00">2015年9月5日 at 上午1:03</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>不行吧，这个程序我允许之后前面会少掉http:</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="li-comment-768">
			<article id="comment-768" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://www.iqiqu.net/?ds' rel='external nofollow' class='url'>爱奇趣分享网</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-768"><time pubdate datetime="2015-09-03T17:43:39+00:00">2015年9月3日 at 下午5:43</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>网站不错很漂亮，欢迎互访！</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-even depth-1" id="li-comment-697">
			<article id="comment-697" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://www.zuilizhi.net/' rel='external nofollow' class='url'>最励志网</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-697"><time pubdate datetime="2015-08-19T20:40:31+00:00">2015年8月19日 at 下午8:40</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>网站真不错 最励志网<a href="http://www.zuilizhi.net/?" rel="nofollow"></a><a href="http://www.zuilizhi.net/" rel="nofollow">http://www.zuilizhi.net/</a>?</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="comment byuser comment-author-cqcre bypostauthor even thread-odd thread-alt depth-1" id="li-comment-621">
			<article id="comment-621" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://cuiqingcai.com/' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-621"><time pubdate datetime="2015-08-02T16:39:40+00:00">2015年8月2日 at 下午4:39</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>统一回复：网站改版了，URL的索引已经和之前的不一样了，之前可以直接跳转到每个MM的个性域名，现在中间加了一个跳转页，而这个跳转页中的部分内容是JS动态生成的，所以不能用Urllib库来直接抓取了，本篇就只提供学习思路了，代码不能继续用了。之后博主会利用其它方法来尝试解决，如果解决，第一时间更新！</p>
</div>
				
			</article><!-- #comment-## -->
		<ul class="children">
		<li class="comment odd alt depth-2" id="li-comment-794">
			<article id="comment-794" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">奥德赛</span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-794"><time pubdate datetime="2015-09-13T20:38:50+00:00">2015年9月13日 at 下午8:38</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>这是个问题呢，它跳转到登录页面了，用浏览器审查下发现了这个<br />
&lt;script&gt;window._lgst_ = new Date().getTime();&lt;/script&gt;<br />
&lt;script&gt;<br />
//全登陆不允许iframe嵌入<br />
if(window.top !== window.self){ window.top.location = window.location;}<br />
&lt;/script&gt;<br />
不知道是啥雅思呢</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-616">
			<article id="comment-616" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://weibo.com/5033706752' rel='external nofollow' class='url'>-这年二十一</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-616"><time pubdate datetime="2015-08-01T08:20:51+00:00">2015年8月1日 at 上午8:20</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>为什么不能多次爬取？</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="comment odd alt thread-odd thread-alt depth-1" id="li-comment-609">
			<article id="comment-609" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/zhy97031' rel='external nofollow' class='url'>zhy</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-609"><time pubdate datetime="2015-07-30T19:42:02+00:00">2015年7月30日 at 下午7:42</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>查了下网上说有些代码是js动态生成的，所以审查元素和查看源代码得到的内容不一样，那这个怎么解决呢</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
		<li class="comment even thread-even depth-1" id="li-comment-608">
			<article id="comment-608" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://t.qq.com/zhy97031' rel='external nofollow' class='url'>zhy</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-608"><time pubdate datetime="2015-07-30T19:39:15+00:00">2015年7月30日 at 下午7:39</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>//mm.taobao.com/tyy6160 也抓不到，用审查元素的方法能看到html代码，但是用浏览器查看源代码却只能看到的是：<br />
&lt;div class=&quot;mm-p-info-warp  clearfix&quot; id=&quot;J_MmInfo&quot;&gt;</p>
<p>	&lt;/div&gt;</p>
<p>div中间是空的，程序抓取的内容也是这样，为什么和审查元素看到的不一致呢，这个怎么解决?</p>
</div>
				
			</article><!-- #comment-## -->
		<ul class="children">
		<li class="comment byuser comment-author-cqcre bypostauthor odd alt depth-2" id="li-comment-620">
			<article id="comment-620" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn"><a href='http://cuiqingcai.com/' rel='external nofollow' class='url'>崔庆才</a></span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-620"><time pubdate datetime="2015-08-02T16:36:43+00:00">2015年8月2日 at 下午4:36</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>嗯，的确是，原来的索引页面可以直接链接到个性域名的，可以直接抓照片，但是现在不行了，改版了，中间加了一层跳转，而这个部分页面是JS动态生成的，还是比较麻烦的，不能直接来抓了。</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
</ul><!-- .children -->
</li><!-- #comment-## -->
		<li class="comment even thread-odd thread-alt depth-1" id="li-comment-603">
			<article id="comment-603" class="comment">
				<footer class="comment-meta">
					<cite class="comment-author vcard">
						<span class="fn">rwy</span> on <a rel="nofollow" href="http://cuiqingcai.com/1001.html/comment-page-3#comment-603"><time pubdate datetime="2015-07-28T13:27:40+00:00">2015年7月28日 at 下午1:27</time></a> <span class="says">said:</span>					</cite><!-- .comment-author .vcard -->
				</footer>
	
				<div class="comment-content"><p>博主你wp代码插件是用哪个</p>
</div>
				
			</article><!-- #comment-## -->
		</li><!-- #comment-## -->
            </ol>

				<nav id="comment-nav-below">
			<h1 class="assistive-text">Comment navigation</h1>
			<div class="nav-previous"><a href="http://cuiqingcai.com/1001.html/comment-page-2#comments" >&larr; Older Comments</a></div>
			<div class="nav-next"></div>
		</nav>
		            
    </div>			</div>
</div>
<aside class="sidebar">	
<div class="widget widget_text"><div class="textwidget"><div class="social">

<a href="http://weibo.com/u/2830678474" rel="external nofollow" title="新浪微博" target="_blank"><i class="sinaweibo fa fa-weibo"></i></a><a  href="http://t.qq.com/CQCcqc123456?preview" rel="external nofollow" title="腾讯微博" target="_blank"><i class="tencentweibo fa fa-tencent-weibo"></i></a><a class="weixin"><i class="weixins fa fa-weixin"></i><div class="weixin-popover"><div class="popover bottom in"><div class="arrow"></div><div class="popover-title"></div><div class="popover-content"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/img/weixin.gif" ></div></div></div></a>
<a href="http://mail.qq.com/cgi-bin/qm_share?t=qm_mailme&email=cqc@cuiqingcai.com" rel="external nofollow" title="Email" target="_blank"><i class="email fa fa-envelope-o"></i></a><a href="?feed=rss2" rel="external nofollow" target="_blank"  title="订阅本站"><i class="rss fa fa-rss"></i></a>
</div></div></div>

<div class="widget widget_archive"><div class="title"><h2>文章归档</h2></div>		<ul>
	<li><a href='http://cuiqingcai.com/date/2015/11'>2015年十一月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/10'>2015年十月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/09'>2015年九月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/08'>2015年八月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/07'>2015年七月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/06'>2015年六月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/05'>2015年五月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/04'>2015年四月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/03'>2015年三月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/02'>2015年二月</a></li>
	<li><a href='http://cuiqingcai.com/date/2015/01'>2015年一月</a></li>
	<li><a href='http://cuiqingcai.com/date/2014/12'>2014年十二月</a></li>
	<li><a href='http://cuiqingcai.com/date/2014/11'>2014年十一月</a></li>
	<li><a href='http://cuiqingcai.com/date/2014/10'>2014年十月</a></li>
	<li><a href='http://cuiqingcai.com/date/2014/09'>2014年九月</a></li>
		</ul>
</div><div class="widget widget_text"><div class="title"><h2>原创游戏</h2></div>			<div class="textwidget"><div class="taobaotextad">
<p style="
    margin-left: 20px;
    color: #00a67c;
">BallEscape丨博主开发的一款休闲益智虐心游戏 </p><p style="
    margin-left: 10px;
">
<a href="http://res.cuiqingcai.com/ballescape/">
<input type="button" value="了解更多" style="width: 310px; margin: 10px auto 0px; background-color: rgb(245, 138, 135); color: rgb(255, 255, 255); height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" onmouseover="this.style.backgroundColor='rgb(252, 125, 121)'" onmouseout="this.style.backgroundColor='#F58A87'"></a>
</p></div></div>
		</div><div class="widget d_postlist"><div class="title"><h2>猜你喜欢</h2></div><ul><li><a href="http://cuiqingcai.com/990.html" title="Python爬虫实战一之爬取糗事百科段子" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5228661.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战一之爬取糗事百科段子" /></span><span class="text">Python爬虫实战一之爬取糗事百科段子</span><span class="muted">2015-02-17</span><span class="muted"><span class="ds-thread-count" data-thread-key="990" data-replace="1">123评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/1001.html" title="Python爬虫实战四之抓取淘宝MM照片" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5270641.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战四之抓取淘宝MM照片" /></span><span class="text">Python爬虫实战四之抓取淘宝MM照片</span><span class="muted">2015-02-20</span><span class="muted"><span class="ds-thread-count" data-thread-key="1001" data-replace="1">81评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/1076.html" title="Python爬虫实战五之模拟登录淘宝并获取所有订单" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5226152.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战五之模拟登录淘宝并获取所有订单" /></span><span class="text">Python爬虫实战五之模拟登录淘宝并获取所有订单</span><span class="muted">2015-02-24</span><span class="muted"><span class="ds-thread-count" data-thread-key="1076" data-replace="1">79评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/993.html" title="Python爬虫实战二之爬取百度贴吧帖子" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5265936.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战二之爬取百度贴吧帖子" /></span><span class="text">Python爬虫实战二之爬取百度贴吧帖子</span><span class="muted">2015-02-17</span><span class="muted"><span class="ds-thread-count" data-thread-key="993" data-replace="1">51评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/1052.html" title="Python爬虫学习系列教程" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5254665-e1424499272248.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫学习系列教程" /></span><span class="text">Python爬虫学习系列教程</span><span class="muted">2015-02-21</span><span class="muted"><span class="ds-thread-count" data-thread-key="1052" data-replace="1">44评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/968.html" title="Python爬虫入门六之Cookie的使用" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5258536-1.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫入门六之Cookie的使用" /></span><span class="text">Python爬虫入门六之Cookie的使用</span><span class="muted">2015-02-15</span><span class="muted"><span class="ds-thread-count" data-thread-key="968" data-replace="1">37评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/997.html" title="Python爬虫实战三之计算大学本学期绩点" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5265978.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫实战三之计算大学本学期绩点" /></span><span class="text">Python爬虫实战三之计算大学本学期绩点</span><span class="muted">2015-02-20</span><span class="muted"><span class="ds-thread-count" data-thread-key="997" data-replace="1">32评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/912.html" title="Python爬虫进阶一之爬虫框架Scrapy安装配置" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/d52a2834349b033b20721ee016ce36d3d539bd16.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫进阶一之爬虫框架Scrapy安装配置" /></span><span class="text">Python爬虫进阶一之爬虫框架Scrapy安装配置</span><span class="muted">2015-02-17</span><span class="muted"><span class="ds-thread-count" data-thread-key="912" data-replace="1">29评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/1319.html" title="Python爬虫入门八之Beautiful Soup的用法" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/wallpaper_52546561.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫入门八之Beautiful Soup的用法" /></span><span class="text">Python爬虫入门八之Beautiful Soup的用法</span><span class="muted">2015-03-11</span><span class="muted"><span class="ds-thread-count" data-thread-key="1319" data-replace="1">26评论</span></span></a></li>
<li><a href="http://cuiqingcai.com/977.html" title="Python爬虫入门七之正则表达式" ><span class="thumbnail"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5270713.jpg&h=64&w=100&q=90&zc=1&ct=1" alt="Python爬虫入门七之正则表达式" /></span><span class="text">Python爬虫入门七之正则表达式</span><span class="muted">2015-02-15</span><span class="muted"><span class="ds-thread-count" data-thread-key="977" data-replace="1">21评论</span></span></a></li>
</ul></div><div class="widget widget_text"><div class="title"><h2>我要投稿</h2></div>			<div class="textwidget"><div class="taobaotextad">
<p style="
    margin-left: 20px;
    color: #00a67c;
">想让自己的文章出现在这里吗?赶快注册投稿吧！</p><p style="
    margin-left: 10px;
">
<a href="http://cuiqingcai.com/wp-login.php?action=register">
<input type="button" value="点我投稿" style="width: 310px; margin: 10px auto 0px; background-color: rgb(245, 138, 135); color: rgb(255, 255, 255); height: 40px; border: none; font-family: 'Microsoft Yahei'; font-size: 16px; letter-spacing: 2px;" onmouseover="this.style.backgroundColor='rgb(252, 125, 121)'" onmouseout="this.style.backgroundColor='#F58A87'"></a>
</p></div></div>
		</div><div class="widget d_tag"><div class="title"><h2>标签云</h2></div><div class="d_tags"><a title="26个话题" href="http://cuiqingcai.com/tag/php">PHP (26)</a><a title="20个话题" href="http://cuiqingcai.com/tag/python">Python (20)</a><a title="16个话题" href="http://cuiqingcai.com/tag/%e7%88%ac%e8%99%ab">爬虫 (16)</a><a title="14个话题" href="http://cuiqingcai.com/tag/js">JS (14)</a><a title="10个话题" href="http://cuiqingcai.com/tag/opengl">OpenGL (10)</a><a title="9个话题" href="http://cuiqingcai.com/tag/html">HTML (9)</a><a title="7个话题" href="http://cuiqingcai.com/tag/linux">Linux (7)</a><a title="6个话题" href="http://cuiqingcai.com/tag/jquery">jQuery (6)</a><a title="6个话题" href="http://cuiqingcai.com/tag/winpcap">Winpcap (6)</a><a title="5个话题" href="http://cuiqingcai.com/tag/wordpress">WordPress (5)</a><a title="4个话题" href="http://cuiqingcai.com/tag/git">Git (4)</a><a title="4个话题" href="http://cuiqingcai.com/tag/security">Security (4)</a><a title="3个话题" href="http://cuiqingcai.com/tag/java">Java (3)</a><a title="3个话题" href="http://cuiqingcai.com/tag/mysql">Mysql (3)</a><a title="3个话题" href="http://cuiqingcai.com/tag/net">Net (3)</a><a title="2个话题" href="http://cuiqingcai.com/tag/cocos2d-x">Cocos2d-x (2)</a><a title="2个话题" href="http://cuiqingcai.com/tag/jsp">JSP (2)</a><a title="2个话题" href="http://cuiqingcai.com/tag/matlab">Matlab (2)</a><a title="2个话题" href="http://cuiqingcai.com/tag/bootstrap">Bootstrap (2)</a><a title="2个话题" href="http://cuiqingcai.com/tag/photoshop">Photoshop (2)</a><a title="2个话题" href="http://cuiqingcai.com/tag/css">CSS (2)</a><a title="1个话题" href="http://cuiqingcai.com/tag/json">Json (1)</a><a title="1个话题" href="http://cuiqingcai.com/tag/redis">Redis (1)</a><a title="1个话题" href="http://cuiqingcai.com/tag/less">LESS (1)</a><a title="1个话题" href="http://cuiqingcai.com/tag/nginx">Nginx (1)</a></div></div><div class="widget widget_links"><div class="title"><h2>友情链接</h2></div>
	<ul class='xoxo blogroll'>
<li><a href="http://www.anotherhome.net" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/03/wallpaper_5264963.jpg"  alt="Anotherhome "  /> Anotherhome</a></li>
<li><a href="http://zhouchenwen.com" rel="acquaintance" target="_blank"><img src="http://zhouchenwen-wordpress.stor.sinaapp.com/uploads/2015/03/beatiful.jpg"  alt="ColdCoder "  /> ColdCoder</a></li>
<li><a href="http://www.findspace.name" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5254666.jpg"  alt="Findspace "  /> Findspace</a></li>
<li><a href="http://blog.hickwu.com/" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5270857.jpg"  alt="Hick "  /> Hick</a></li>
<li><a href="http://www.nopcn.com" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/07/wallpaper_5263470.jpg"  alt="nopcommerce "  /> nopcommerce</a></li>
<li><a href="http://www.atrail.cn/" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5254665-e1424499272248.jpg"  alt="从前以后 "  /> 从前以后</a></li>
<li><a href="http://www.superqq.com/"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/05/wallpaper_5265810.jpg"  alt="刚刚在线 "  /> 刚刚在线</a></li>
<li><a href="http://www.lvtao.net" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5228675.jpg"  alt="吕滔博客 "  /> 吕滔博客</a></li>
<li><a href="http://www.fddcn.cn" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5228669.jpg"  alt="奋斗的承诺 "  /> 奋斗的承诺</a></li>
<li><a href="http://www.zuilizhi.net/" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/07/wallpaper_5247812.jpg"  alt="最励志网 "  /> 最励志网</a></li>
<li><a href="http://www.lishengcn.cn/" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/02/wallpaper_5266007.jpg"  alt="李胜的脚步 "  /> 李胜的脚步</a></li>
<li><a href="http://liaoyuming.cn" rel="acquaintance" target="_blank"><img src="http://liaoyuming.cn/wp-content/uploads/2015/03/3-750x300.jpg"  alt="永远站 "  /> 永远站</a></li>
<li><a href="http://www.hubwiz.com" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/08/wallpaper_5269088.jpg"  alt="汇智网 "  /> 汇智网</a></li>
<li><a href="http://www.zoeys.cn/" target="_blank"><img src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/wallpaper_5234204-e1446021079981.jpg"  alt="糊糊 "  /> 糊糊</a></li>
<li><a href="http://www.leyle.com/" target="_blank"><img src="http://cuiqingcai.com/wp-content/themes/Yusi/timthumb.php?src=http://qiniu.cuiqingcai.com/wp-content/uploads/2015/04/wallpaper_5259137-1.jpg&amp;h=123&amp;w=200&amp;q=90&amp;zc=1&amp;ct=1"  alt="遗落岛 "  /> 遗落岛</a></li>

	</ul>
</div>
<div class="widget widget_text"><div class="title"><h2>本站热门</h2></div>			<div class="textwidget"><div class = "taobaotextad" style="margin-top:-10px;"><script>document.write(unescape('%3Cdiv id="hm_t_59089"%3E%3C/div%3E%3Cscript charset="utf-8" src="http://crs.baidu.com/t.js?siteId=3ef185224776ec2561c9f7066ead4f24&planId=59089&async=0&referer=') + encodeURIComponent(document.referrer) + '&title=' + encodeURIComponent(document.title) + '&rnd=' + (+new Date) + unescape('"%3E%3C/script%3E'));</script>
</div></div>
		</div><div class="widget widget_text"><div class="title"><h2>休闲一下</h2></div>			<div class="textwidget"><div  style = "text-align: center" width="100%"><a href = "http://res.cuiqingcai.com/2048">
<img src = "http://cuiqingcai.com/wp-content/uploads/2014/11/2048.jpg" style="margin:10px 0 10px 0" alt = "2048游戏"/>
</a></div></div>
		</div><div class="widget widget_text"><div class="title"><h2>新浪微博</h2></div>			<div class="textwidget"><iframe width="100%" height="550" class="share_self"  frameborder="0" scrolling="no" src="http://widget.weibo.com/weiboshow/index.php?language=&width=0&height=550&fansRow=2&ptype=1&speed=0&skin=1&isTitle=0&noborder=0&isWeibo=1&isFans=1&uid=2830678474&verifier=7468dc7b&dpc=1"></iframe></div>
		</div><div class="widget widget_text"><div class="title"><h2>精品推荐</h2></div>			<div class="textwidget"><div class = "taobaotextad">
<script type="text/javascript">
var cpro_id="u1974136";
(window["cproStyleApi"] = window["cproStyleApi"] || {})[cpro_id]={at:"3",rsi0:"338",rsi1:"330",pat:"6",tn:"baiduCustNativeAD",rss1:"#FFFFFF",conBW:"0",adp:"1",ptt:"0",titFF:"%E5%BE%AE%E8%BD%AF%E9%9B%85%E9%BB%91",titFS:"",rss2:"#00a67c",titSU:"0",ptbg:"70",piw:"130",pih:"80",ptp:"0"}
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/c.js" type="text/javascript"></script>
</div></div>
		</div></aside></section>
<footer class="footer">
    <div class="footer-inner">
        <div class="copyright pull-left">
         <a href="http://cuiqingcai.com " title="静觅">静觅</a> 版权所有丨采用<a href="http://yusi123.com/"> 欲思 </a>主题丨基于<a href="http://cn.wordpress.org/" title="WordPress"> WordPress </a>构建   © 2015丨托管于 <a rel="nofollow" target="_blank" href="http://www.aliyun.com/">阿里云主机</a> & <a rel="nofollow" target="_blank" href="http://www.qiniu.com/">七牛云存储 </a>丨鲁ICP备14030596号
		 <div>
			<script type="text/javascript">var cnzz_protocol = (("https:" == document.location.protocol) ? " https://" : " http://");document.write(unescape("%3Cspan id='cnzz_stat_icon_1253486800'%3E%3C/span%3E%3Cscript src='" + cnzz_protocol + "s4.cnzz.com/z_stat.php%3Fid%3D1253486800%26online%3D1%26show%3Dline' type='text/javascript'%3E%3C/script%3E"));</script>
		 </div>
		</div>
        
    </div>
</footer>

<script type='text/javascript'>
/* <![CDATA[ */
var viewsCacheL10n = {"admin_ajax_url":"http:\/\/cuiqingcai.com\/wp-admin\/admin-ajax.php","post_id":"1001"};
/* ]]> */
</script>
<script type='text/javascript' src='http://cuiqingcai.com/wp-content/plugins/wp-postviews/postviews-cache.js?ver=1.68'></script>
<script type='text/javascript' src='http://cuiqingcai.com/wp-content/themes/Yusi/js/jquery.js?ver=1.0'></script>
<script>with(document)0[(getElementsByTagName("head")[0]||body).appendChild(createElement("script")).src="http://bdimg.share.baidu.com/static/api/js/share.js?v=89860593.js?cdnversion="+~(-new Date()/36e5)];</script><!-- xuanfu -->
 <script type="text/javascript">
    /*300*25 创建于 2015-02-23*/
    var cpro_id = "u1959047";
</script>
<script src="http://cpro.baidustatic.com/cpro/ui/s.js" type="text/javascript"></script>
<script type="text/javascript">
var _bdhmProtocol = (("https:" == document.location.protocol) ? " https://" : " http://");
document.write(unescape("%3Cscript src='" + _bdhmProtocol + "hm.baidu.com/h.js%3F3ef185224776ec2561c9f7066ead4f24' type='text/javascript'%3E%3C/script%3E"));
</script>

</body>
</html>
<!-- Dynamic page generated in 0.337 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2015-11-13 18:20:43 -->

<!-- super cache -->