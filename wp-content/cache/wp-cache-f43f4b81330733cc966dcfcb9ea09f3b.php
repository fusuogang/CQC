<?php die(); ?><?xml version="1.0" encoding="UTF-8"?><rss version="2.0"
	xmlns:content="http://purl.org/rss/1.0/modules/content/"
	xmlns:wfw="http://wellformedweb.org/CommentAPI/"
	xmlns:dc="http://purl.org/dc/elements/1.1/"
	xmlns:atom="http://www.w3.org/2005/Atom"
	xmlns:sy="http://purl.org/rss/1.0/modules/syndication/"
	xmlns:slash="http://purl.org/rss/1.0/modules/slash/"
	>

<channel>
	<title>静觅</title>
	<atom:link href="http://cuiqingcai.com/feed" rel="self" type="application/rss+xml" />
	<link>http://cuiqingcai.com</link>
	<description>静静寻觅生活的美好</description>
	<lastBuildDate>Fri, 19 Feb 2016 14:39:39 +0000</lastBuildDate>
	<language>zh-CN</language>
	<sy:updatePeriod>hourly</sy:updatePeriod>
	<sy:updateFrequency>1</sy:updateFrequency>
	<generator>http://wordpress.org/?v=4.2.5</generator>
	<item>
		<title>JavaScript与jQuery基本用法总结</title>
		<link>http://cuiqingcai.com/2469.html</link>
		<comments>http://cuiqingcai.com/2469.html#comments</comments>
		<pubDate>Thu, 11 Feb 2016 13:50:19 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[JavaScript]]></category>
		<category><![CDATA[jQuery]]></category>
		<category><![CDATA[JS]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2469</guid>
		<description><![CDATA[JavaScript 1. JavaScript高级用法一之事件响应与网页交互 2. JavaScript高级 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>JavaScript</h2>
<p>1. <a href="http://cuiqingcai.com/1253.html">JavaScript高级用法一之事件响应与网页交互</a></p>
<p>2. <a href="http://cuiqingcai.com/1257.html">JavaScript高级用法二之内置对象</a></p>
<p>3. <a href="http://cuiqingcai.com/1263.html">JavaScript高级用法三之浏览器对象</a></p>
<p>4. <span class="muted"><a href="http://cuiqingcai.com/1278.html">JavaScript高级用法四之DOM对象</a></span></p>
<p>5. <a href="http://cuiqingcai.com/1444.html">JavaScript高级用法五之常用对象</a></p>
<h2>jQuery</h2>
<p>1. <a href="http://cuiqingcai.com/1544.html">jQuery应用一之验证插件validate的使用</a></p>
<p>2. <a href="http://cuiqingcai.com/1573.html">jQuery应用二之邮箱下拉列表自动补全</a></p>
<p>3. <a href="http://cuiqingcai.com/1585.html">jQuery应用三之图片浏览插件LightBox</a></p>
<p>4. <a href="http://cuiqingcai.com/1592.html">jQuery应用四之图片局部放大插件jQZoom</a></p>
<p>5. <a href="http://cuiqingcai.com/1680.html">jQuery应用五之瀑布流效果的实现</a></p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2469.html">JavaScript与jQuery基本用法总结</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2469.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>OpenGL绘图学习总结</title>
		<link>http://cuiqingcai.com/2467.html</link>
		<comments>http://cuiqingcai.com/2467.html#comments</comments>
		<pubDate>Thu, 11 Feb 2016 13:42:24 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[C/C++]]></category>
		<category><![CDATA[OpenGL]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2467</guid>
		<description><![CDATA[目录索引 1. OpenGL绘图实例一之机器人的绘制 2. OpenGL绘图实例二之直线和圆弧的绘制 3. O [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>目录索引</h2>
<p>1. <a href="http://cuiqingcai.com/1597.html">OpenGL绘图实例一之机器人的绘制</a></p>
<p>2. <a href="http://cuiqingcai.com/1613.html" target="_blank">OpenGL<span id="13_nwp">绘图</span>实例二之直线和圆弧的绘制</a></p>
<p>3. O<a href="http://cuiqingcai.com/1640.html" target="_blank">penGL绘图实例三之种子填充算法</a></p>
<p>4. <a href="http://cuiqingcai.com/1649.html" target="_blank">OpenGL绘图实例四之区域颜色填充</a></p>
<p>5. <a href="http://cuiqingcai.com/1658.html" target="_blank">OpenGL绘图实例五之平移缩放旋转</a></p>
<p>6. <a href="http://cuiqingcai.com/1776.html" target="_blank">OpenGL绘图实例六之鼠标监听事件</a></p>
<p>7. <a href="http://cuiqingcai.com/1783.html" target="_blank">OpenGL绘图实例七之鼠标设色取点绘图</a></p>
<p>7. <a href="http://cuiqingcai.com/1802.html" target="_blank">OpenGL绘图实例八之图形的移动删除存盘</a></p>
<p>9. <a href="http://cuiqingcai.com/1860.html" target="_blank">OpenGL绘图实例九之3D绘图基础</a></p>
<p>10. <a href="http://cuiqingcai.com/1867.html" target="_blank">OpenGL<span id="21_nwp">绘图</span>实例十之绘制3D机器人 </a></p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2467.html">OpenGL绘图学习总结</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2467.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Winpcap网络编程学习探究</title>
		<link>http://cuiqingcai.com/2465.html</link>
		<comments>http://cuiqingcai.com/2465.html#comments</comments>
		<pubDate>Thu, 11 Feb 2016 13:27:53 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[C/C++]]></category>
		<category><![CDATA[Winpcap]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2465</guid>
		<description><![CDATA[目录索引 1. Winpcap网络编程一之前言，实验要求，实验目标 2. Winpcap网络编程二之环境配置， [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>目录索引</h2>
<p>1. <a href="http://cuiqingcai.com/1890.html">Winpcap网络编程一之前言，实验要求，实验目标</a></p>
<p>2. <a href="http://cuiqingcai.com/1898.html">Winpcap网络编程二之环境配置，Eclipse配置C/C++环境</a></p>
<p>3. <a href="http://cuiqingcai.com/1906.html">Winpcap网络编程三之环境配置，Eclipse配置Winpcap环境</a></p>
<p>4. <a href="http://cuiqingcai.com/1913.html">Winpcap网络编程四之环境配置，VS配置Winpcap环境</a></p>
<p>5. <a href="http://cuiqingcai.com/1918.html">Winpcap网络编程五之ARP协议获得MAC表及主机通信</a></p>
<p>6. <a href="http://cuiqingcai.com/1922.html">Winpcap网络编程六之两台主机通过中间主机通信</a></p>
<p>&nbsp;</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2465.html">Winpcap网络编程学习探究</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2465.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Python爬虫进阶二之PySpider框架安装配置</title>
		<link>http://cuiqingcai.com/2443.html</link>
		<comments>http://cuiqingcai.com/2443.html#comments</comments>
		<pubDate>Thu, 11 Feb 2016 13:00:04 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Python]]></category>
		<category><![CDATA[爬虫]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2443</guid>
		<description><![CDATA[关于 首先，在此附上项目的地址，以及官方文档 PySpider 官方文档 安装 1. pip 首先确保你已经安 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>关于</h2>
<p>首先，在此附上项目的地址，以及官方文档</p>
<p><a class="dl link" href="https://github.com/binux/pyspider" target="_blank">PySpider</a> <a class="dl link" href="http://docs.pyspider.org/en/latest/" target="_blank">官方文档</a></p>
<h2>安装</h2>
<h3>1. pip</h3>
<p>首先确保你已经安装了pip，若没有安装，请参照</p>
<p><a class="dl link" href="http://pip-cn.readthedocs.org/en/latest/installing.html" target="_blank">pip安装</a></p>
<h3>2. phantomjs</h3>
<p>PhantomJS 是一个基于 WebKit 的服务器端 JavaScript API。它全面支持web而不需浏览器支持，其快速、原生支持各种Web标准：DOM 处理、CSS 选择器、JSON、Canvas 和 SVG。 PhantomJS 可以用于页面自动化、网络监测、网页截屏以及无界面测试等。</p>
<p><a class="dl link" href="http://phantomjs.org/download.html" target="_blank">安装</a></p>
<p>以上附有官方安装方式，如果你是 Ubuntu 或 Mac OS X用户，可以直接用命令来安装</p>
<p>Ubuntu:</p><pre class="crayon-plain-tag">sudo apt-get install phantomjs</pre><p>Mac OS X:</p><pre class="crayon-plain-tag">brew install phantomjs</pre><p></p>
<h3>3. pyspider</h3>
<p>直接利用 pip 安装即可</p><pre class="crayon-plain-tag">pip install pyspider</pre><p>如果你是 Ubuntu 用户，请提前安装好以下支持类库</p><pre class="crayon-plain-tag">sudo apt-get install python python-dev python-distribute python-pip libcurl4-openssl-dev libxml2-dev libxslt1-dev python-lxml</pre><p>测试</p>
<p>如果安装过程没有提示任何错误，那就证明一些OK。</p>
<p>命令行输入</p><pre class="crayon-plain-tag">pyspider all</pre><p>然后浏览器访问 <a href="http://localhost:5000" target="_blank">http://localhost:5000</a></p>
<p>观察一下效果，如果可以正常出现 PySpider 的页面，那证明一切OK</p>
<p>在此附图一张，这是我写了几个爬虫之后的界面。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/2016-02-11-20.55.36.png"><img class="alignnone size-large wp-image-2444" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/2016-02-11-20.55.36-1024x355.png" alt="2016-02-11 20.55.36" width="1024" height="355" /></a></p>
<p>好，接下来我会进一步介绍这个框架的使用。</p>
<h2>常见错误</h2>
<p>嗯，自行谷歌，就是这么任性。</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2443.html">Python爬虫进阶二之PySpider框架安装配置</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2443.html/feed</wfw:commentRss>
		<slash:comments>1</slash:comments>
		</item>
		<item>
		<title>Python爬虫进阶一之爬虫框架概述</title>
		<link>http://cuiqingcai.com/2433.html</link>
		<comments>http://cuiqingcai.com/2433.html#comments</comments>
		<pubDate>Thu, 11 Feb 2016 12:29:29 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Python]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2433</guid>
		<description><![CDATA[综述 爬虫入门之后，我们有两条路可以走。 一个是继续深入学习，以及关于设计模式的一些知识，强化Python相关 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>综述</h2>
<p>爬虫入门之后，我们有两条路可以走。</p>
<p>一个是继续深入学习，以及关于设计模式的一些知识，强化Python相关知识，自己动手造轮子，继续为自己的爬虫增加分布式，多线程等功能扩展。另一条路便是学习一些优秀的框架，先把这些框架用熟，可以确保能够应付一些基本的爬虫任务，也就是所谓的解决温饱问题，然后再深入学习它的源码等知识，进一步强化。</p>
<p>就个人而言，前一种方法其实就是自己动手造轮子，前人其实已经有了一些比较好的框架，可以直接拿来用，但是为了自己能够研究得更加深入和对爬虫有更全面的了解，自己动手去多做。后一种方法就是直接拿来前人已经写好的比较优秀的框架，拿来用好，首先确保可以完成你想要完成的任务，然后自己再深入研究学习。第一种而言，自己探索的多，对爬虫的知识掌握会比较透彻。第二种，拿别人的来用，自己方便了，可是可能就会没有了深入研究框架的心情，还有可能思路被束缚。</p>
<p>不过个人而言，我自己偏向后者。造轮子是不错，但是就算你造轮子，你这不也是在基础类库上造轮子么？能拿来用的就拿来用，学了框架的作用是确保自己可以满足一些爬虫需求，这是最基本的温饱问题。倘若你一直在造轮子，到最后都没造出什么来，别人找你写个爬虫研究了这么长时间了都写不出来，岂不是有点得不偿失？所以，进阶爬虫我还是建议学习一下框架，作为自己的几把武器。至少，我们可以做到了，就像你拿了把枪上战场了，至少，你是可以打击敌人的，比你一直在磨刀好的多吧？</p>
<h2>框架概述</h2>
<p>博主接触了几个爬虫框架，其中比较好用的是 Scrapy 和PySpider。就个人而言，pyspider上手更简单，操作更加简便，因为它增加了 WEB 界面，写爬虫迅速，集成了phantomjs，可以用来抓取js渲染的页面。Scrapy自定义程度高，比 PySpider更底层一些，适合学习研究，需要学习的相关知识多，不过自己拿来研究分布式和多线程等等是非常合适的。</p>
<p>在这里博主会一一把自己的学习经验写出来与大家分享，希望大家可以喜欢，也希望可以给大家一些帮助。</p>
<h2>PySpider</h2>
<p><a href="https://github.com/binux/pyspider">PySpider</a>是<a href="https://github.com/binux">binux</a>做的一个爬虫架构的开源化实现。主要的功能需求是：</p>
<ul>
<li>抓取、更新调度多站点的特定的页面</li>
<li>需要对页面进行结构化信息提取</li>
<li>灵活可扩展，稳定可监控</li>
</ul>
<p>而这也是绝大多数python爬虫的需求 —— 定向抓取，结构化化解析。但是面对结构迥异的各种网站，单一的抓取模式并不一定能满足，灵活的抓取控制是必须的。为了达到这个目的，单纯的配置文件往往不够灵活，于是，通过脚本去控制抓取是最后的选择。<br />
而去重调度，队列，抓取，异常处理，监控等功能作为框架，提供给抓取脚本，并保证灵活性。最后加上web的编辑调试环境，以及web任务监控，即成为了这套框架。</p>
<p>pyspider的设计基础是：<strong>以python脚本驱动的抓取环模型爬虫</strong></p>
<ul>
<li>通过python脚本进行结构化信息的提取，follow链接调度抓取控制，实现最大的灵活性</li>
<li>通过web化的脚本编写、调试环境。web展现调度状态</li>
<li>抓取环模型成熟稳定，模块间相互独立，通过消息队列连接，从单进程到多机分布式灵活拓展</li>
</ul>
<p><img src="http://blog.binux.me/assets/image/pyspider-arch.png" alt="pyspider-arch" /></p>
<p id="section-2">pyspider的架构主要分为 scheduler（调度器）, fetcher（抓取器）, processor（脚本执行）：</p>
<ul>
<li>各个组件间使用消息队列连接，除了scheduler是单点的，fetcher 和 processor 都是可以多实例分布式部署的。 scheduler 负责整体的调度控制</li>
<li>任务由 scheduler 发起调度，fetcher 抓取网页内容， processor 执行预先编写的python脚本，输出结果或产生新的提链任务（发往 scheduler），形成闭环。</li>
<li>每个脚本可以灵活使用各种python库对页面进行解析，使用框架API控制下一步抓取动作，通过设置回调控制解析动作。</li>
</ul>
<h2>Scrapy</h2>
<blockquote><p>Scrapy是一个为了爬取网站数据，提取结构性数据而编写的应用框架。 可以应用在包括数据挖掘，信息处理或存储历史数据等一系列的程序中。<br />
其最初是为了页面抓取 (更确切来说, 网络抓取 )所设计的， 也可以应用在获取API所返回的数据(例如 Amazon Associates Web Services ) 或者通用的网络爬虫。Scrapy用途广泛，可以用于数据挖掘、监测和自动化测试</p></blockquote>
<p>Scrapy 使用了 Twisted 异步网络库来处理网络通讯。整体架构大致如下</p>
<div class="image-package imagebubble"><img class="imagebubble-image" src="http://newtonblogimg.qiniudn.com/Scrapy%20Architecture.png" alt="Scrapy" data-original-src="http://newtonblogimg.qiniudn.com/Scrapy%20Architecture.png" /></div>
<div class="image-package imagebubble"></div>
<p>Scrapy主要包括了以下组件：</p>
<ul>
<li>引擎(Scrapy): 用来处理整个系统的数据流处理, 触发事务(框架核心)</li>
<li>调度器(Scheduler): 用来接受引擎发过来的请求, 压入队列中, 并在引擎再次请求的时候返回. 可以想像成一个URL（抓取网页的网址或者说是链接）的优先队列, 由它来决定下一个要抓取的网址是什么, 同时去除重复的网址</li>
<li>下载器(Downloader): 用于下载网页内容, 并将网页内容返回给蜘蛛(Scrapy下载器是建立在twisted这个高效的异步模型上的)</li>
<li>爬虫(Spiders): 爬虫是主要干活的, 用于从特定的网页中提取自己需要的信息, 即所谓的实体(Item)。用户也可以从中提取出链接,让Scrapy继续抓取下一个页面</li>
<li>项目管道(Pipeline): 负责处理爬虫从网页中抽取的实体，主要的功能是持久化实体、验证实体的有效性、清除不需要的信息。当页面被爬虫解析后，将被发送到项目管道，并经过几个特定的次序处理数据。</li>
<li>下载器中间件(Downloader Middlewares): 位于Scrapy引擎和下载器之间的框架，主要是处理Scrapy引擎与下载器之间的请求及响应。</li>
<li>爬虫中间件(Spider Middlewares): 介于Scrapy引擎和爬虫之间的框架，主要工作是处理蜘蛛的响应输入和请求输出。</li>
<li>调度中间件(Scheduler Middewares): 介于Scrapy引擎和调度之间的中间件，从Scrapy引擎发送到调度的请求和响应。</li>
</ul>
<p>Scrapy运行流程大概如下：</p>
<ul>
<li>首先，引擎从调度器中取出一个链接(URL)用于接下来的抓取</li>
<li>引擎把URL封装成一个请求(Request)传给下载器，下载器把资源下载下来，并封装成应答包(Response)</li>
<li>然后，爬虫解析Response</li>
<li>若是解析出实体（Item）,则交给实体管道进行进一步的处理。</li>
<li>若是解析出的是链接（URL）,则把URL交给Scheduler等待抓取</li>
</ul>
<h2>结语</h2>
<p>对这两个框架进行基本的介绍之后，接下来我会介绍这两个框架的安装以及框架的使用方法，希望对大家有帮助。</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2433.html">Python爬虫进阶一之爬虫框架概述</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2433.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>弃用多说，改用畅言</title>
		<link>http://cuiqingcai.com/2416.html</link>
		<comments>http://cuiqingcai.com/2416.html#comments</comments>
		<pubDate>Tue, 02 Feb 2016 19:36:48 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[个人随笔]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2416</guid>
		<description><![CDATA[最近博客的多说评论总是抽风，先来吐槽一下。 刚在整理评论的时候吓我一跳，之前我的好多评论都没了，是的，是只有我 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>最近博客的多说评论总是抽风，先来吐槽一下。</p>
<p>刚在整理评论的时候吓我一跳，之前我的好多评论都没了，是的，是只有我自己的评论没有了，而其它人的评论还有。摸不着头脑的我打开多说后台管理，哦天，我之前所有的评论和回复全部自动转为垃圾评论了，八百多条啊，废了一会功夫好不容易批量还原了。结果刷新页面一看，咦，还是没有，重新刷一下后台，竟然再次把我的评论设成垃圾评论了，后来又退出重新绑定了其它平台的账号，总算还原回来了。</p>
<p>然后我就继续开始回复大家的评论呀，结果要发布评论的时候，点一下发布，按钮就卡在正在发布这里不动了。打开浏览器看一下 Ajax 出了什么问题，结果出现了一个 create_json 报了个500服务器错误，查看页面信息显示参数配置不正确还是怎么了，没错，是显示我的站点多说评论配置不正确。那，其它人怎么评论上来的？</p>
<p>另外，之前，多说崩溃了已经不知道多少次了。</p>
<p>真是不爽的多说。</p>
<p>另外，多说还有一个非常令人发指的行为，会自动同步用户文章，收集用户信息，同步我们社交账号，即使是修改用户信息也要进行备份，这尼玛发展一定程度，多说还真有可能有利用这些用户信息谋利，甚至可能利用各个用户的文章做一个个性化阅读推荐也说不定。当然最开始的时候我只是觉得多说比较火，当时用上了也感觉比较方便，加上最初网站没几个东西，心想同步就同步呗，然后就一直用着了。现在再想想，也是可怕。</p>
<p>果断！弃用！弃用！弃用！</p>
<p>搜索了网上比较热门的评论插件，发现了畅言。使用了 WordPress 插件。</p>
<p>于是用上了，不过还是有一些令我感到不是太友好的地方，简单在此提一下。</p>
<p>嗯，首先我是比较追求美感的，界面问题。首先我会关注有没有个性化主题定制这个功能，畅言还是有的，支持CSS自定义。不过这个功能比较蛋疼，如果你不选择已经提供的主题，而是选择自定义CSS样式的话，你需要把所有样式重写一遍，它缺省继承了默认主题。比如我如果想在浅色主题红色风格基础上修改几个样式的话，这是办不到的，除非重写所有的红色风格样式，这就鸡肋了。建议可以选择继承某个默认主题的功能，然后自定义的CSS是在这个基础上设置的功能。而且我看WAP版本并没有自定义CSS，非常建议增加这个功能。最后我还是选择了红色主题，不过自定义样式就写在了站点全局样式表里面了，以此解决。</p>
<p>其次，同步本地评论功能，由于换了插件，所以评论都留在了本地了。同步完成之后，我并不能在畅言后台管理看到我刚才同步的评论，但是新发的评论是可以看到的，页面也是可以正常显示的。只是不能在线管理早先的原始评论了。</p>
<p>另外，头像问题，其实我个人非常不能忍受一个账号没有头像的行为，简直是大逆不道。畅言有个QQ快速登录的功能，然而，登录之后竟然不能获取我的QQ头像！不知道是不是我这边的问题，如果大家正常希望可以反馈我一下。另外，QQ登录之后怎么会给我取了一个奇怪的用户名，叫什么cmcccc，有点醉。而微博的快速登录的昵称和头像都是正常的，然而每次评论的时候都会默认勾选那个同步到微博的按钮，这个可以默认取消么？</p>
<p>还有，希望可以增加更多的平台的支持，比如微信、GitHub、脸书、推特等平台啦。</p>
<p>最后，有没有发表文章自动分享到各个平台的功能？我暂时没有发现。这点多说还是做得比较好的。</p>
<p>以上。</p>
<p>嗯，总之换上畅言之后用起来还是比较开心的，嘿嘿主要是改好了样式，看起来一阵舒爽。</p>
<p>昂，没错，我就是颜控！</p>
<p>有时候，我会因为一个样式不合我意而执着地去修改，即使要花费几个小时。</p>
<p>有时候，我会因为一个应用的图标（没错，就是说的图标）太丑了而卸载掉，即使是它的功能再怎么好。</p>
<p>有时候，我会因为一个屏幕膜有一点点损伤而去重新买一个新的。额，其实是因为今天给电脑贴膜折角了，我又花了几十块重新买了一个新的。</p>
<p>有时候，我就是一个强迫症，在写上面三句话的时候，第一句原本是在第二行的，然而因为看起来长度参差不齐我就把它移动到了最上面。嗯，这第四句话要写得更长才行。</p>
<p>好啦，貌似跑题了，时候不早啦，大家晚安。</p>
<p>嗯，换上调教好的美美的畅言还是很开心的，文章前后呼应，拜～</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/屏幕快照-2016-02-03-03.43.51.png"><img class="alignnone size-large wp-image-2421" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2016/02/屏幕快照-2016-02-03-03.43.51-1024x622.png" alt="屏幕快照 2016-02-03 03.43.51" width="1024" height="622" /></a></p>
<p>美美哒～</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2416.html">弃用多说，改用畅言</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2416.html/feed</wfw:commentRss>
		<slash:comments>6</slash:comments>
		</item>
		<item>
		<title>强势回归博客，顺便祝大家小年快乐</title>
		<link>http://cuiqingcai.com/2401.html</link>
		<comments>http://cuiqingcai.com/2401.html#comments</comments>
		<pubDate>Mon, 01 Feb 2016 12:20:53 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[个人日记]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2401</guid>
		<description><![CDATA[Hello，时隔一个多月，终于再次回到博客啦，首先跟大家说声抱歉，许多评论没有及时回复感到非常抱歉，希望我现在 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>Hello，时隔一个多月，终于再次回到博客啦，首先跟大家说声抱歉，许多评论没有及时回复感到非常抱歉，希望我现在给大家的回复为时不晚。</p>
<p>距离上次在博客上写日记过去了几个月了吧。那时的我刚刚结束大学三年级。而现在，大四上半学期已经过半啦。这半年的时间可以说忙也可以说不忙。不忙是说这半年以来的课程比较轻松，只有四门选修课，学业负担比较轻。忙是说半年以来各种错综复杂的事情，许多事情需要好好安排一下时间才可以好好把握各个“进程”的合理分配。</p>
<p>那么就从我上次日记开始总结一下吧。</p>
<p>当时更新是去年七月十二日，刚大三放假不久。那个暑假前期过得可谓是心惊胆战呀，当时为了保研北京航空航天大学一直在紧张地复习准备。包括复习备考三年的专业课，还有准备C语言的上机考试。七月二十八二十九那两天机考和面试，不负众望，我顺利拿到了北京航空航天大学计算机科学与技术学院的Offer，心里的石头也落了地，当时看到通过面试的消息时真的激动得说不出口，这也算是我人生中为数不多的重大十字路口做出的一个选择吧。</p>
<p>面试结束之后，我便留在了导师那边做项目，一些大数据处理和爬虫的项目。不过当时的项目个人感觉比较简单，所以就在整个八月份找了一份实习，PHP研发工程师的岗位，之前准备保研也一直没有找工作，这也算是我找的第一份工作吧，不求赚神马，只求充实一下我的假期，也学习一些新的东西。</p>
<p>在这里顺便安利一下，公司名称是佳信德润，主打品牌是<a href="http://www.lingxi360.com/index.php">灵析</a>，北京三环。在那边工作真的感觉特别舒心，虽然是创业公司，但是CEO玛丽老板（女哦）还有负责技术的柱子哥真的超级热情，为人特别好，谈吐之间就有一种亲切的感觉，那边的小伙伴十几个，相处地也十分融洽。在那边工作你不会有一种被忽视和指使的感觉，你可以随意向老板们发表自己的看法，甚至你可以与他们探讨代码问题，甚至公司某处的装饰啦，哪里的餐馆不错啦等等。有次我眼睛发炎，玛丽老板和柱子哥还特别关心我，亲自送到我医院，在这里再次说声谢谢，不知道你们是不是可以看到。我还记得小伙伴们一起拍公司写真，真的超赞。当然最主要的还是一起商讨项目进度，代码问题，接触到我之前没有接触过的新知识。在这里你可以负责许多事情，最大限度地发挥你的光和热。不是我打广告，如果有小伙伴们有意向做PHP，非常推荐你们过去，可以去他们<a href="http://www.lingxi360.com/index.php">官网</a>发应聘哦。相信我，不会坑你的。</p>
<p>实习时间真的过得很快，转眼一个月过去了，九月份来了，大四开学啦。</p>
<p>因为需要开学以后办一些保研的相关手续，另外重要的事当然是陪妹纸啦嘿嘿，你懂得。</p>
<p>开学之后就开始忙一些项目了。大四的课程不紧，趁着这大四的时光，多学点东西，以后这样的日子真不多了，好好珍惜。</p>
<p>所以大四上学期的基调是，专注陪妹子，业余撸代码，顺便做做外包。请叫我全职男朋友，兼职程序猿。</p>
<p>这半年以来做的项目不算多。首先，学习了Laravel框架，嗯，保证你学完之后就不想用其他的框架了。最开始是帮我的叔叔做一个拍电影的网站，规模还比较大，一直在完善中。另外在暑假实习的过程中发现了公司自己写了一款CMS框架，自己觉得还有许多功能可以添加，一些架构可以继续完善，所以决定自己写一个CMS，不仅算是练手，也算是造轮子吧。毕竟你写好了就是你自己的，用起来都是那么自然，假如来了个外包神马的，轻松应对分分钟的事，神马深度定制都是浮云。当然还有帮爸爸妈妈写的一个微信平台，在微信订餐售卖东西，嗯，这叫做自己动手实现O2O。另外就是一些零零散散的小外包，没事可以赚点外快养活一下自己。</p>
<p>最近刚刚入手了自己人生中的第一台MAC，当然还是要感谢父亲大人的支持，自己的手头还是比较紧的，你懂得。</p>
<p>嗯摒弃Windows，感觉撸代码的快感不止提升了几管气，也希望它可以陪我度过接下来许多年的学习时光。在这里也安利一下一个小店，微博上的<a href="http://weibo.com/u/2067562447?is_hot=1">小闷小闷</a>，水果从她这里买，价格真的是十分公道啊，正品无误了，入手十几天了，感觉逼格提升了，心情也舒畅了，多年的Windows卡顿症也治好了～</p>
<p>嗯，接下来的时间，爸爸妈妈年前工作辛苦，接下来几天我要去帮他们分担一下工作啦。</p>
<p>最后，恭祝大家小年快乐，工作顺心，别跟钱过不去，开心最重要～</p>
<p>欢欢喜喜过大年啦～</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2401.html">强势回归博客，顺便祝大家小年快乐</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2401.html/feed</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>关于HTML内联元素一侧留白的浅谈</title>
		<link>http://cuiqingcai.com/2353.html</link>
		<comments>http://cuiqingcai.com/2353.html#comments</comments>
		<pubDate>Sat, 02 Jan 2016 14:08:42 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[HTML]]></category>
		<category><![CDATA[JavaScript]]></category>
		<category><![CDATA[jQuery]]></category>
		<category><![CDATA[JS]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2353</guid>
		<description><![CDATA[问题来源 在写代码的时候遇到了如下问题： 使用了bootstrap框架来编写了一个页面，其中input元素两侧 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>问题来源</h2>
<p>在写代码的时候遇到了如下问题：</p>
<p>使用了bootstrap框架来编写了一个页面，其中input元素两侧留有空白。然而用JS动态添加的同样的元素却不会出现这种情况。具体截图表现如下：</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226212230.png"><img class="alignnone size-full wp-image-2354" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226212230.png" alt="20151226212230" width="859" height="581" /></a></p>
<p>我们可以发现，第一行和而三行的代码是完全一样的，可是呈现的结果是截然不同的。</p>
<p><a class="dl link" href="http://res.cuiqingcai.com/demo/inline.html" target="_blank">在线测试样例</a></p>
<p>大家是不是觉得很奇怪？没错，我也是。中间的那个缝隙是哪里来的呢？</p>
<h2>刨根问底</h2>
<p>在这里感谢 <a href="http://wonderlee.me" target="_blank">wonder</a> 同学的大力相助，才得以找到问题的所在。</p>
<p>出现此问题的原因在于：</p>
<blockquote><p>html中的内联元素在书写代码时，如果两元素代码之间有换行，浏览器会将其解释为空格。而这个空格是会被当作一个空白节点（nodeType等于3的节点，就是文字节点）</p></blockquote>
<p>所以，因为代码中我使元素呈现 inline 的属性，然后两个代码之间具有换行，所以二者之间出现了空白。正常情况下，二者之间是不应该出现空白的。然而用 jQuery 生成元素的时候，因为是用的 + 连接符，所以换行符被忽略了。也就是代码是连接起来的，所以二者之间便不会出现空白。</p>
<p>解决方法：</p>
<p>1.将原代码中的input写到一行。如下：</p><pre class="crayon-plain-tag">&lt;div class="form-group"&gt;
    &lt;input class="form-control inline span3" name="education[school][]" type="text" value="123"&gt;&lt;input class="form-control inline span3" name="education[date][]" type="text" value="456"&gt;
&lt;/div&gt;</pre><p>2.或者在JS代码中加入换行符。如下：</p><pre class="crayon-plain-tag">$('button').on('click', function() {
        $('&lt;div class="form-group"&gt;'+
            '&lt;input class="form-control inline span3" name="education[school][]" type="text" value=""&gt;\n'+
            '&lt;input class="form-control inline span3" name="education[date][]" type="text" value=""&gt;'+
        '&lt;/div&gt;').appendTo($(".content"));
    });</pre><p>以上两种方式，解决方法都比较简单实用。其他的改变 padding 或者 margin 的方法就不推荐了。</p>
<p>好了，那么明白了之后，我们肯定要可以举一反三的，来探究一下如果是块级元素会不会这样呢？</p>
<h2>举一反三</h2>
<p>好的，让我们试一下块级元素如果设置为 inline的话会不会也这样。</p>
<p>把 input 标签改成 div，然后给它加上 display: inline 属性，加一下背景颜色区分，观察一下效果。</p>
<p>代码如下：</p><pre class="crayon-plain-tag">&lt;!DOCTYPE html&gt;
&lt;html lang="zh-CN"&gt;
  &lt;head&gt;
    &lt;meta charset="utf-8"&gt;
    &lt;meta http-equiv="X-UA-Compatible" content="IE=edge"&gt;
    &lt;meta name="viewport" content="width=device-width, initial-scale=1"&gt;
    &lt;link rel="stylesheet" href="//cdn.bootcss.com/bootstrap/3.3.5/css/bootstrap.min.css"&gt;
  &lt;/head&gt;
  &lt;body&gt;
    &lt;h1&gt;点击按钮添加元素&lt;/h1&gt;
    &lt;div class="content"&gt;
        &lt;div class="form-group"&gt;
            &lt;div class="item"&gt;hello1&lt;/div&gt;
            &lt;div class="item"&gt;hello2&lt;/div&gt;
        &lt;/div&gt;
    &lt;/div&gt;
    &lt;button class="btn btn-primary"&gt;添加&lt;/button&gt;
    &lt;script src="//cdn.bootcss.com/jquery/1.11.3/jquery.min.js"&gt;&lt;/script&gt;
    &lt;script src="//cdn.bootcss.com/bootstrap/3.3.5/js/bootstrap.min.js"&gt;&lt;/script&gt;
    &lt;style&gt;
    .item {
        display: inline;
        background: #555;
    }
    &lt;/style&gt;
  &lt;/body&gt;
&lt;/html&gt;</pre><p>观察一下效果</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220135.png"><img class="alignnone size-full wp-image-2357" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220135.png" alt="20151226220135" width="362" height="173" /></a></p>
<p>嗯，果然，它的间距还是出现了。</p>
<p>那么改成 display: inline-block 呢？</p><pre class="crayon-plain-tag">.item {
        display: inline-block;
        width: 200px;
        background: #555;
    }</pre><p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220326.png"><img class="alignnone size-full wp-image-2358" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220326.png" alt="20151226220326" width="405" height="141" /></a></p>
<p>可见间距还是有的。</p>
<p>我们把 div 的换行去掉，看一下。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220443.png"><img class="alignnone size-full wp-image-2359" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151226220443.png" alt="20151226220443" width="416" height="151" /></a></p>
<p>Perfect！它已经消失不见了！</p>
<p>以上，在chrome，edge，ie11测试通过。</p>
<h2>综述</h2>
<p>通过以上研究我们可以得出如下结论：</p>
<p>内联元素，代码中带有换行，会出现空白间距。块级元素，设置了内联样式，且代码中带有换行，也会出现空白间距。</p>
<p>解决方法是删除代码中的换行即可。</p>
<p>以上是在写程序过程中发现的现象，希望能对大家有帮助！</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2353.html">关于HTML内联元素一侧留白的浅谈</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2353.html/feed</wfw:commentRss>
		<slash:comments>3</slash:comments>
		</item>
		<item>
		<title>使用PGP加密你的文件</title>
		<link>http://cuiqingcai.com/2322.html</link>
		<comments>http://cuiqingcai.com/2322.html#comments</comments>
		<pubDate>Mon, 14 Dec 2015 17:23:40 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Other]]></category>
		<category><![CDATA[Security]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2322</guid>
		<description><![CDATA[前言 有时候，一些文件是不想公开让被人看到的，或者只想某些特定的人看到。 比如说，你要上交一个实验报告啦，老师 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>前言</h2>
<p>有时候，一些文件是不想公开让被人看到的，或者只想某些特定的人看到。</p>
<p>比如说，你要上交一个实验报告啦，老师给了一个FTP上传目录，但是你只想让老师看到报告，而不想公开给同学们看。这时候，就需要加密一下你的文件啦。</p>
<p>那么有什么好的加密方式呢？PGP，你的不二之选。</p>
<h2>PGP加密原理</h2>
<p>用直白的话来讲就是</p>
<p>对方给你一个公钥，他自己也保存了一个私钥，你利用他的公钥来加密，只有对方自己用自己私钥才能解密。由于其他的人没有拿到私钥，所以解不开的，即使是你自己，也解不开的。所以，这样就保证了，只有你和对方可以查看内容。</p>
<p>引用详解原理：</p>
<blockquote><p>PGP(Pretty Good Privacy)，是一个基于RSA公钥加密体系的邮件加密软件。可以用它对邮件保密以防止非授权者阅读，它还能对邮件加上数字签名从而使收信人可以确认邮件的发送者，并能确信邮件没有被篡改。它可以提供一种安全的通讯方式，而事先并不需要任何保密的渠道用来传递密匙。它采用了一种RSA和传统加密的杂合算法，用于数字签名的邮件文摘算法，加密前压缩等，还有一个良好的人机工程设计。它的功能强大，有很快的速度。</p>
<p>PGP是一种供大众使用的加密软件。电子邮件通过开放的网络传输，网络上的其他人都可以监听或者截取邮件，来获得邮件的内容，因而邮件的安全问题就比较突出了。保护信息不被第三者获得，这就需要加密技术。还有一个问题就是信息认证，如何让收信人确信邮件没有被第三者篡改，这就需要数字签名技术。RSA公钥体系的特点使它非常适合用来满足上述两个要求：保密性（Privacy)和认证性（Authentication）。<br />
RSA（Rivest-Shamir-Adleman）算法是一种基于大数不可能质因数分解假设的公匙体系。简单地说就是找两个很大的质数，一个公开即公钥，另一个不告诉任何人，即私钥。这两个密匙是互补的，就是说用公匙加密的密文可以用私匙解密，反过来也一样。<br />
假设甲要寄信给乙，他们互相知道对方的公匙。甲就用乙的公匙加密邮件寄出，乙收到后就可以用自己的私匙解密出甲的原文。由于没别人知道乙的私匙，所以即使是甲本人也无法解密那封信，这就解决了信件保密的问题。另一方面由于每个人都知道乙的公匙，他们都可以给乙发信，那么乙就无法确信是不是甲的来信。这时候就需要用数字签名来认证。</p></blockquote>
<h2>加密流程</h2>
<p>在 Windows 下，有一个非常强大的工具，叫做 PGP Desktop，可以利用这个来加密。</p>
<p><a class="dl link" href="http://pan.baidu.com/s/1dEznwe1">下载链接</a></p>
<p>这个是 64 位的安装包，安装过程我就不详细描述了，比较简单。如果你的系统是 32 位，那么请再寻找一下其他的安装包。</p>
<p>安装之后，搜索一下开始菜单或者安装目录，找到 PGP Desktop，打开它。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003158.png"><img class="alignnone size-full wp-image-2323" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003158.png" alt="20151215003158" width="211" height="41" /></a></p>
<p>打开之后界面是这个样子的</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003312.png"><img class="alignnone size-large wp-image-2324" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003312-1024x664.png" alt="20151215003312" width="1024" height="664" /></a></p>
<p>恩，别人应该给了你公钥了对吧，比如，这次老师的公钥是</p><pre class="crayon-plain-tag">-----BEGIN PGP PUBLIC KEY BLOCK-----
Version: PGPfreeware 6.5.8 for non-commercial use &lt;http://www.pgp.com&gt;

mQCNA1NKJuwAAAEEAMvdBmw1TTTkLTL6w9C28MhtVnsWtNeHVJl98CFCzOveyKDH
KGPf/RA4moDUE1IkkUelRKJV1O2JlcqBZPOGI/FII/6yq/DbNHKOKhz6fgbbdgxh
UArjUSthA/BPnodTcEtGZHlGSvK7n3TcWmGY700YB9crWpbyHfVQ7KLGc3SlAAUR
tCF0ZXN0NGNyeXB0byA8dGVzdDRjcnlwdG9AMTYzLmNvbT6JAJUDBRBTSibs9VDs
osZzdKUBAQzxBACr3UpakH7SMtU9OgHHZCARE4xKVChTBCh9kquhhU5Kr9Er0AHy
UWO1BD+z58VTu9XPR2/NSrCOGNwfZVqZTY8eTUTuQVJKpAR9CNtRi0B6yQa8pQVm
7vfEqzBcsWcPkOzfRU75Ubdc+IxZkdMcPfPnzn1kU2cTKUIlM5+cy/+qvw==
=nNyG
-----END PGP PUBLIC KEY BLOCK-----</pre><p>来，添加一下，有一个非常简单的方法就是直接右键粘贴，然后确定就好了。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003737.png"><img class="alignnone size-full wp-image-2325" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003737.png" alt="20151215003737" width="980" height="636" /></a></p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003953.png"><img class="alignnone size-full wp-image-2326" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215003953.png" alt="20151215003953" width="814" height="262" /></a></p>
<p>然后，你可以把这个公钥加到你的 Master Keys 里。</p>
<p>点击，菜单中的 Tools -&gt; PGP Options -&gt; Master Keys -&gt; Add -&gt; add -&gt; OK，按照图示箭头操作即可。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011210.png"><img class="alignnone size-large wp-image-2331" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011210-1024x596.png" alt="20151215011210" width="1024" height="596" /></a></p>
<p>然后，确定，邮件点一下 添加到 Master Keys。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011305.png"><img class="alignnone size-full wp-image-2332" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011305.png" alt="20151215011305" width="985" height="624" /></a></p>
<p>会提示成功添加。然后接下来就进行加密吧。</p>
<p>点左侧的 PGP ZIP，然后 New PGP Zip，然后选择文件，点击确定。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215004710.png"><img class="alignnone size-full wp-image-2328" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215004710.png" alt="20151215004710" width="966" height="631" /></a></p>
<p>然后直接下一步</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215004802.png"><img class="alignnone size-full wp-image-2329" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215004802.png" alt="20151215004802" width="699" height="482" /></a></p>
<p>直接下一步</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011736.png"><img class="alignnone size-full wp-image-2333" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011736.png" alt="20151215011736" width="699" height="482" /></a></p>
<p>然后下一步，选择导出路径即可</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011755.png"><img class="alignnone size-full wp-image-2334" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151215011755.png" alt="20151215011755" width="699" height="482" /></a></p>
<p>下一步，导出成功，加密完成。</p>
<p>导出的文件格式就是原文件名加了 pgp 后缀，只有对方的私钥可以解开。</p>
<p>当然如果有不死心的小伙伴想破解，自己试试咯~</p>
<h2>综述</h2>
<p>以上，为了便于演示，我直接将秘钥添加到了 Master Key 中，其实这个 Master Key 当然最好是你自己专属的秘钥咯，不过无所谓啦，我们只是为了演示一下加密过程，利用这个公钥加密，不要在意这些细节。</p>
<p>小伙伴们体验一下吧！</p>
<p>&nbsp;</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2322.html">使用PGP加密你的文件</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2322.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>计算机网络探究四之使用FreeNAS提供网络硬盘</title>
		<link>http://cuiqingcai.com/2286.html</link>
		<comments>http://cuiqingcai.com/2286.html#comments</comments>
		<pubDate>Sun, 13 Dec 2015 09:42:50 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Other]]></category>
		<category><![CDATA[Net]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2286</guid>
		<description><![CDATA[FreeNAS简介 FreeNAS 是什么？ FreeNAS 是一款广受赞誉的开源免费 NAS 操作系统。它能 [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2>FreeNAS简介</h2>
<p>FreeNAS 是什么？</p>
<p>FreeNAS 是一款广受赞誉的开源免费 NAS 操作系统。它能把普通台式机瞬间变成一台多功能 NAS 服务器。不但适用于企业文件共享，同样适用于打造家庭媒体中心。</p>
<p>FreeNAS 支持多种共享协议，包括 SMB/CIFS、NFS、AFP、WebDAV、iSCSI、FTP/TFTP、RSync等。</p>
<p><a class="dl link" href="http://www.getnas.com/" target="_blank">官方网站</a></p>
<h2>iSCSI</h2>
<p>iSCSI技术是一种由IBM公司研究开发的，是一个供硬件设备使用的可以在IP协议的上层运行的SCSI指令集，这种指令集合可以实现在IP网络上运行SCSI协议，使其能够在诸如高速千兆以太网上进行路由选择。iSCSI技术是一种新储存技术，该技术是将现有SCSI接口与以太网络(Ethernet)技术结合，使服务器可与使用IP网络的储存装置互相交换资料。</p>
<p>iSCSI：Internet 小型计算机系统接口 （iSCSI：Internet Small Computer System Interface）。</p>
<h2>本篇目标</h2>
<p>那么本篇文章的目标就是记录一下怎样使用 FreeNAS 配置一个输入我们的网络存储服务。</p>
<h2>下载安装</h2>
<p>首先我们要下载 FreeNAS的镜像，由于FreeNAS 9 对系统的要求比较高，在这里我们用到的是 FreeNAS 8。</p>
<p><a class="dl link" href="http://pan.baidu.com/s/1geb2C1t" target="_blank">镜像下载</a></p>
<p>下载完成之后我们利用 VMware安装即可。</p>
<p>安装界面提供了四个选项：</p>
<ol>
<li>Install/Upgrade 安装/升级</li>
<li>Shell 终端</li>
<li>Reboot System 重启系统</li>
<li>Shutdown System 关闭系统</li>
</ol>
<p><img class="alignnone size-full wp-image-556" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129171248.png" alt="20150129171248" width="720" height="400" /></p>
<p>使用键盘上的方向键切换菜单，选择第一项，按回车键确认。</p>
<p>接下来系统会提示选择 FreeNAS 系统盘，在如下图所示的界面中会显示出所有可以用作安装 FreeNAS 系统的设备。你需要根据自己界面上显示的实际内容进行选择，此处应该选择我们准备作为 FreeNAS 系统盘的另一块U盘，选择好以后按回车键确认。</p>
<p><img class="alignnone size-full wp-image-557" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129171601.png" alt="20150129171601" width="720" height="400" /></p>
<p>此时，界面上显示了一些警告信息，大意为“你选择作为 FreeNAS 系统盘的设备上的所有数据都会被清空，而且该设备将完全被系统占用，不能用作数据存储。”  按回车键确认。</p>
<p><img class="alignnone size-full wp-image-558" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129171850.png" alt="20150129171850" width="720" height="400" /></p>
<p>确认后，系统开始执行安装，如下图所示。</p>
<p><img class="alignnone size-full wp-image-559" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129172137.png" alt="20150129172137" width="720" height="400" /></p>
<p>系统安装完成后会给出成功提示，提醒我们移除安装盘，如下图。不用理会，按回车键继续。</p>
<p><img class="alignnone size-full wp-image-560" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129172300.png" alt="20150129172300" width="720" height="400" /></p>
<p>此时，系统又回到了最初的安装界面，如下图所示。用方向键切换选择第四项，按回车键关闭系统。</p>
<p><img class="alignnone size-full wp-image-561" src="http://7xnt0e.com1.z0.glb.clouddn.com/wp-content/uploads/2015/01/20150129172526.png" alt="20150129172526" width="720" height="400" /></p>
<p>待系统完全关闭以后，再次启动电脑，并设置从 U盘系统盘引导，成功启动以后，看到如下所示的界面，代表系统已经安装完成。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171035.png"><img class="alignnone size-full wp-image-2296" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171035.png" alt="20151213171035" width="783" height="523" /></a></p>
<p>接下来，你可以使用浏览器访问界面中给出的 IP 地址打开 FreeNAS 的 WebGUI 管理界面了。</p>
<h2>网页配置</h2>
<p>接下来，我们就可以通过浏览器来配置我们的 FreeNAS了。</p>
<p>通过系统的提示，我们访问以下链接即可：</p>
<p><a href="http://192.168.231.131/">http://192.168.231.131/</a></p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171159.png"><img class="alignnone size-large wp-image-2297" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171159-1024x549.png" alt="20151213171159" width="1024" height="549" /></a></p>
<p>访问之后，可以看到如上内容。</p>
<p>点击 setting，先切换一下语言，简体中文。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171352.png"><img class="alignnone size-full wp-image-2298" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171352.png" alt="20151213171352" width="732" height="580" /></a></p>
<p>接下来我们便开始iSCSI的配置啦。</p>
<h2>iSCSI配置</h2>
<p>1.首先开启iSCSI服务，然后点击右侧的设置图标进入设置界面。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213173030.png"><img class="alignnone size-full wp-image-2300" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213173030.png" alt="20151213173030" width="656" height="498" /></a></p>
<p>2.添加iSCSI端口，选择默认设置即可。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171558.png"><img class="alignnone size-full wp-image-2301" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171558.png" alt="20151213171558" width="788" height="464" /></a></p>
<p>3.添加网络授权信息</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171648.png"><img class="alignnone size-full wp-image-2302" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171648.png" alt="20151213171648" width="758" height="440" /></a></p>
<p>两个全部填写为ALL即可。</p>
<p>4.添加iSCSI用户信息</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171733.png"><img class="alignnone size-full wp-image-2303" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171733.png" alt="20151213171733" width="789" height="491" /></a></p>
<p>填入用户信息和秘钥即可，下方的输入框是加密可选的。</p>
<p>5.添加iSCSI属性信息</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171855.png"><img class="alignnone size-full wp-image-2304" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171855.png" alt="20151213171855" width="842" height="516" /></a></p>
<p>6.添加存储设备</p>
<p>在这里我们首先要添加一块磁盘，在VMware中的设置里添加一块磁盘，在这里分配为20G。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171951.png"><img class="alignnone size-full wp-image-2305" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213171951.png" alt="20151213171951" width="590" height="453" /></a><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172007.png"><img class="alignnone size-full wp-image-2306" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172007.png" alt="20151213172007" width="592" height="479" /></a></p>
<p>在FreeNAS设置界面中，添加扩展设备。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172115.png"><img class="alignnone size-full wp-image-2307" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172115.png" alt="20151213172115" width="774" height="412" /></a></p>
<p>7.关联目标</p>
<p>将用户信息和磁盘信息关联起来。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172143.png"><img class="alignnone size-full wp-image-2308" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172143.png" alt="20151213172143" width="751" height="418" /></a></p>
<p>通过以上流程，我们便完成了一个网络硬盘的配置。</p>
<h2>Windows使用</h2>
<p>好，配置好了网络硬盘，那么我们就在Windows下使用一下吧，Windows 7 以上的系统自带了 iSCSI 服务。</p>
<p>我们可以直接在控制面板里面找到它。在控制面板中搜索。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172329.png"><img class="alignnone size-full wp-image-2309" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172329.png" alt="20151213172329" width="586" height="191" /></a></p>
<p>然后，会出现一个属性设置窗口。点击发现，发现门户，输入刚才FreeNAS的地址即可。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172518.png"><img class="alignnone size-full wp-image-2310" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172518.png" alt="20151213172518" width="497" height="670" /></a></p>
<p>&nbsp;</p>
<p>接下来在目标的选项卡中我们会看到刚才配置的一个目标，点击下方的连接即可。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172541.png"><img class="alignnone size-full wp-image-2311" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172541.png" alt="20151213172541" width="497" height="670" /></a></p>
<p>&nbsp;</p>
<p>连接成功之后，我们便可以完成连接了。</p>
<p>打开磁盘设置，我们便可以看到那个20G的磁盘了，然后新建简单卷。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172806.png"><img class="alignnone size-full wp-image-2312" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172806.png" alt="20151213172806" width="863" height="731" /></a></p>
<p>格式化为NTFS系统，刷新一下，打开计算机。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172840.png"><img class="alignnone size-full wp-image-2313" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151213172840.png" alt="20151213172840" width="799" height="534" /></a></p>
<p>我们可以发现，一个新的网络磁盘便安装成功啦。</p>
<p>可以向其中放置任何文件，与其他的磁盘没有任何区别！</p>
<h2>结语</h2>
<p>FreeNAS是一个非常强大的工具，在这里我们只涉及到了 iSCSI 服务的使用，还有更多等待着我们的探索，小伙伴们快来试验一下吧。</p>
<p>&nbsp;</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2286.html">计算机网络探究四之使用FreeNAS提供网络硬盘</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2286.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>VS中OpenSSL环境配置示例</title>
		<link>http://cuiqingcai.com/2266.html</link>
		<comments>http://cuiqingcai.com/2266.html#comments</comments>
		<pubDate>Mon, 07 Dec 2015 08:50:54 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[C/C++]]></category>
		<category><![CDATA[Security]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2266</guid>
		<description><![CDATA[最近在研究信息安全，需要用到OpenSSL库，我用到的开发IDE是VS2012，所以，在这里也记录一下我配置V [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>最近在研究信息安全，需要用到OpenSSL库，我用到的开发IDE是VS2012，所以，在这里也记录一下我配置VS2012的OpenSSL库的过程。</p>
<h2>下载OpenSSL库</h2>
<p>OpenSSL库大家可以自行下载源码然后用ruby进行编译，另外我们也可以选择直接下载编译好的类库。</p>
<p>这里我们利用的后者，在此提供一个下载链接。</p>
<p><a class="dl link" href="http://pan.baidu.com/s/1dEs1nxR" target="_blank">OpenSSL-Win32</a></p>
<p>下载完成之后解压，比如我的放到了D盘。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162627.png"><img class="alignnone size-full wp-image-2270" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162627.png" alt="20151207162627" width="678" height="444" /></a></p>
<h2>新建项目</h2>
<p>首先，我们找一段测试代码，在此利用的是 AES 算法的示例。</p><pre class="crayon-plain-tag">#include &lt;stdio.h&gt;
#include &lt;openssl/aes.h&gt;
#include &lt;stdlib.h&gt;
#include &lt;string.h&gt;

int main()
{
	unsigned char key[16+1] = "my-key-i-choosed"; // 128bits key (应该是真正的随机数才好)
	char pt1[16+5+1] = "0123456789abcdef12345";   // 明文
	char ct[16+5+1];  // 密文
	char pt2[16+5+1]; // 解密后的明文

	AES_KEY k;
	unsigned char iv1[16+1] = {"1023456789abcdef"}; // 16+1，加密用
	unsigned char iv2[16+1] = {"1023456789abcdef"}; // 16+1，解密用

	{	// single blcok test
		AES_set_encrypt_key(key, 16*8, &amp;k); 
		AES_encrypt((unsigned char*)pt1, (unsigned char*)ct, &amp;k);

		AES_set_decrypt_key(key, 16*8, &amp;k);
		AES_decrypt((unsigned char*)ct, (unsigned char*)pt2, &amp;k);

		if (memcmp(pt1, pt2, 16)==0)
			puts("AES block ok");
		else
			puts("AES block err");
	}

	{	// cfb mode (stream mode)
		int num=0;
		AES_set_encrypt_key(key, 16*8, &amp;k); 
		AES_cfb128_encrypt((unsigned char*)pt1, (unsigned char*)ct,
			16+5, &amp;k, (unsigned char*)iv1, &amp;num, AES_ENCRYPT);

		num=0;
		AES_set_encrypt_key(key, 16*8, &amp;k); // MUST as enc
		AES_cfb128_encrypt((unsigned char*)ct, (unsigned char*)pt2,
			16+5, &amp;k, (unsigned char*)iv2, &amp;num, AES_DECRYPT);		

		if (memcmp(pt1, pt2, 16+5)==0)
			puts("AES CFB mode ok");
		else
			puts("AES CFB mode err");
	}
	system("pause");
	return 0;
}</pre><p>接下来新建一个项目，win32控制台程序，空项目，完成。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207161749.png"><img class="alignnone size-full wp-image-2267" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207161749.png" alt="20151207161749" width="955" height="614" /></a> <a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207161824.png"><img class="alignnone size-full wp-image-2268" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207161824.png" alt="20151207161824" width="685" height="493" /></a></p>
<p>新建源文件，我取名叫做 aes.cpp，将代码复制进去，可以看到代码最初是在报错的。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162418.png"><img class="alignnone size-full wp-image-2269" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162418.png" alt="20151207162418" width="911" height="645" /></a></p>
<p>好，接下来我们进行环境配置。</p>
<h2>环境配置</h2>
<p>右键项目名称，弹出一个菜单，选择属性。</p>
<p>在VC++目录选项卡中，添加包含目录和库目录。</p>
<p>在这里，我的包含目录就是刚才解压的OpenSSL目录的include目录，库目录则是lib目录。</p>
<p><strong>注意：分号要是英文分号，英文分号！</strong></p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162929.png"><img class="alignnone size-full wp-image-2271" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207162929.png" alt="20151207162929" width="875" height="433" /></a></p>
<p>接下来选择连接器选项卡，输入libeay.lib和ssleay32.lib两个附加依赖项。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207163915.png"><img class="alignnone size-full wp-image-2272" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207163915.png" alt="20151207163915" width="844" height="466" /></a></p>
<p>现在右击项目，重新生成。</p>
<p>我们可以看到，程序可以正常生成exe了。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164034.png"><img class="alignnone size-full wp-image-2273" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164034.png" alt="20151207164034" width="848" height="505" /></a></p>
<p>但是直接运行的话会报错，是因为缺少dll文件。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164304.png"><img class="alignnone size-full wp-image-2274" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164304.png" alt="20151207164304" width="677" height="493" /></a></p>
<p>之后，将项目中的libeay32.dll和ssleay32.dll文件放入项目的debug目录即可。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164444.png"><img class="alignnone size-full wp-image-2275" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164444.png" alt="20151207164444" width="681" height="404" /></a></p>
<p>最后项目的debug目录如下</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164405.png"><img class="alignnone size-full wp-image-2276" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164405.png" alt="20151207164405" width="653" height="242" /></a></p>
<p>重新运行exe程序，发现已经正常运行。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164736.png"><img class="alignnone size-full wp-image-2277" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/12/20151207164736.png" alt="20151207164736" width="677" height="493" /></a></p>
<p>至此，VS配置OpenSSL环境的过程已经全部完成。</p>
<p>其他项目类似，大家可以试着配一下。</p>
<p>如有问题，欢迎留言交流~</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2266.html">VS中OpenSSL环境配置示例</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2266.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>WordPress从Apache迁移到Apache过程</title>
		<link>http://cuiqingcai.com/2249.html</link>
		<comments>http://cuiqingcai.com/2249.html#comments</comments>
		<pubDate>Sat, 28 Nov 2015 06:59:07 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[PHP]]></category>
		<category><![CDATA[WordPress]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2249</guid>
		<description><![CDATA[最近服务器要过期了，需要进行迁移，新服务器如果上面配置的是Apache服务器该怎么办呢？ 系统：Ubuntu  [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>最近服务器要过期了，需要进行迁移，新服务器如果上面配置的是Apache服务器该怎么办呢？</p>
<p>系统：Ubuntu 14.04</p>
<h2>环境配置</h2>
<p>首先新主机上配置好apache环境，这个就不多说了，直接执行下面的命令即可。</p><pre class="crayon-plain-tag">sudo apt-get install apache2
sudo apt-get install php5 php5-cgi php5-mysql php5-curl php5-gd php5-idn php-pear php5-imagick php5-imap php5-mcrypt php5-memcache php5-mhash php5-ming php5-pspell php5-recode php5-snmp php5-tidy php5-xmlrpc php5-sqlite php5-xsl
sudo apt-get install mysql-server mysql-client
sudo apt-get install libapache2-mod-php5
sudo apt-get install libapache2-mod-auth-mysql
sudo apt-get install phpmyadmin
sudo ln -s /usr/share/phpmyadmin/ /var/www/html/phpmyadmin</pre><p>通过以上配置，新主机便可以实现lamp环境的配置了。</p>
<h2>代码迁移</h2>
<p>首先旧主主机上打包一下代码，比如一个文件夹名字叫 wonder</p><pre class="crayon-plain-tag">tar -zcvf wonder.tar.gz wonder</pre><p>然后，打包完成之后，便会出现一个名字叫做 wonder.tar.gz 的文件</p>
<p>可以利用wget方式直接下载。</p><pre class="crayon-plain-tag">wget http://xxx.xxx.xxx.xxx/wonder.tar.gz</pre><p>下载完成之后，直接解压即可。</p>
<p>这样代码就取到了。</p>
<h2>数据库迁移</h2>
<p>数据库迁移无非就是在phpmyadmin之间导入导出，这个很简单。</p>
<p>但是重要的一点是，需要把 wp-options 表中的两个URL配置改掉，比如原来是一个域名链接，现在需要改为 IP+文件名。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128144223.png"><img class="alignnone size-large wp-image-2251" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128144223-1024x351.png" alt="20151128144223" width="1024" height="351" /></a></p>
<p>否则，浏览器会提示重定向循环的问题。</p>
<h2>服务器配置</h2>
<p>首先我们需要将域名解析到这个主机。</p>
<p>配置示例域名：wonderlee.me</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128144413.png"><img class="alignnone size-full wp-image-2252" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128144413.png" alt="20151128144413" width="849" height="225" /></a></p>
<p>然后配置一下，vhost，在apache下配置是这样的</p>
<p>首先在 /etc/apache2/apache2.conf 中加入如下两行</p><pre class="crayon-plain-tag"># Include all the user configurations:
Include httpd.conf</pre><p>然后我们需要在 httpd.conf 配置一下域名解析</p>
<p>新建一个 /etc/apach2/httpd.conf，加入如下内容</p><pre class="crayon-plain-tag">ServerName 115.28.24.44:80

&lt;VirtualHost 115.28.24.44:80&gt; 
  DocumentRoot /var/www/html
  ServerName   115.28.24.44
&lt;/VirtualHost&gt; 

&lt;VirtualHost 115.28.24.44:80&gt; 
  DocumentRoot /var/www/html/wonder
  ServerName   wonderlee.me
  ServerAlias  wonderlee.me
&lt;/VirtualHost&gt;</pre><p>然后执行服务器重启操作。</p><pre class="crayon-plain-tag">sudo service apache2 restart</pre><p>好，这样的话我们的域名配置解析就好了。</p>
<p>输入 wonderlee.me 即可解析到 wonder 文件夹啦。</p>
<p>可以输入你的域名试试看，已经可以了吧。</p>
<p>然后我们需要开启 rewrite模块。</p>
<p>输入命令</p><pre class="crayon-plain-tag">sudo a2enmod rewrite</pre><p>然后修改  /etc/apache2/apache2.conf 文件</p><pre class="crayon-plain-tag">&lt;Directory /var/www/&gt;
	Options Indexes FollowSymLinks
	AllowOverride None
	Require all granted
&lt;/Directory&gt;</pre><p>改为</p><pre class="crayon-plain-tag">&lt;Directory /var/www/&gt;
	Options Indexes FollowSymLinks
	AllowOverride All
	Require all granted
&lt;/Directory&gt;</pre><p>即可，结束之后重启一下服务器。</p><pre class="crayon-plain-tag">sudo service apache2 restart</pre><p>在项目目录下新建一个文件 .htaccess，来支持重写</p><pre class="crayon-plain-tag"># BEGIN WordPress
&lt;IfModule mod_rewrite.c&gt;
RewriteEngine On
RewriteBase /wonder/
RewriteRule ^index\.php$ - [L]
RewriteCond %{REQUEST_FILENAME} !-f
RewriteCond %{REQUEST_FILENAME} !-d
RewriteRule . /wonder/index.php [L]
&lt;/IfModule&gt;

# END WordPress</pre><p>好，这样，重写过程就完成啦。</p>
<h2>网站配置</h2>
<p>最后，需要将网站的配置修改一下，比如固定链接</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128145507.png"><img class="alignnone size-full wp-image-2253" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128145507.png" alt="20151128145507" width="839" height="526" /></a></p>
<p>比如网站的基地址</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128145620.png"><img class="alignnone size-full wp-image-2254" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151128145620.png" alt="20151128145620" width="864" height="344" /></a></p>
<p>至此，网站配置工作全部完成，欢乐地上网体验一下吧</p>
<p>如有问题，欢迎留言。</p>
<p>&nbsp;</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2249.html">WordPress从Apache迁移到Apache过程</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2249.html/feed</wfw:commentRss>
		<slash:comments>5</slash:comments>
		</item>
		<item>
		<title>WordPress从Apache迁移到Nginx过程</title>
		<link>http://cuiqingcai.com/2227.html</link>
		<comments>http://cuiqingcai.com/2227.html#comments</comments>
		<pubDate>Fri, 13 Nov 2015 08:59:27 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Linux]]></category>
		<category><![CDATA[PHP]]></category>
		<category><![CDATA[WordPress]]></category>

		<guid isPermaLink="false">http://blog.cuiqingcai.com/?p=2227</guid>
		<description><![CDATA[之前一直都用Apache服务器，由于网站访问量比较大，另外加上旧服务器快到期了，准备迁移到新的服务器上，所以决 [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>之前一直都用Apache服务器，由于网站访问量比较大，另外加上旧服务器快到期了，准备迁移到新的服务器上，所以决定采用Nginx服务器。</p>
<p>迁移过程比较心酸，之前一直用apache，对nginx服务器配置不熟悉，踩了很多坑。下面说一下我的网站从旧主机（配有apache服务器）迁移到新主机（配有nginx服务器）的过程。</p>
<h2>代码迁移</h2>
<p>这个过程其实也是比较心酸的，查看了一下目录结构占用空间已经足足快1个G了，可想而知里面占用的大部分空间是上传的图片素材。</p>
<p>不过要是迁移全部图片的话工程量实在是巨大。不过，好消息是我从开始就使用了七牛CDN加速，所以，上传的图片会自动存放到七牛，只不过也在主机本地留了备份而已，所以，我可以安心地删掉它们了。</p>
<p>那么对代码进行瘦身之后，这里就有两种方法来迁移了：</p>
<p>1.可以用git上传到github，然后用另一台主机把代码拉下来即可，在此不再赘述。</p>
<p>2.打包上传，然后直接在另一台主机上下载下来，由于我的两台主机在同一局域网内，所以我直接采用了这种方式，传输速度快。</p>
<h3>打包</h3>
<p>由于代码中含有 .git 目录，所以这部分我们不需要打包，那么压缩时我们就需要排除这个文件夹。</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151113155701-e1447401563242.png"><img class="alignnone size-full wp-image-2230" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/11/20151113155701-e1447401563242.png" alt="20151113155701" width="512" height="104" /></a></p>
<p>文件夹名叫cqc，那么我们就打包一下，排除.git目录，使用如下命令</p><pre class="crayon-plain-tag">tar -zcvf cqc.tar.gz --exclude=cqc/.git cqc</pre><p>运行结束后会出现 cqc.tar.gz 文件，这就是目录压缩包。</p>
<p>然后我们只需要在另一台主机上输入</p><pre class="crayon-plain-tag">wget http://xxx.xxx.xxx.xxx/cqc.tar.gz</pre><p>即可完成下载，速度可是嗖嗖的</p>
<p>然后解压即可，代码便完成了迁移。</p>
<h2>数据库迁移</h2>
<p>数据库用二者的phpmyadmin导出和上传即可。我导出 .sql 文件，大小为9M，而phpMyAdmin的上传限制大小是2M，怎么办？其实我们可以压缩 .sql 文件为 zip格式，压缩之后就有了1.4M了，分分钟完成上传。要知道 phpMyAdmin 可是支持 .sql.zip 文件的。</p>
<p>接下来是一个比较重要的部分，那就是配置一下站点信息。直接修改数据库的两个URL。</p>
<p>分别是 siteurl 和 home，一定要修改为 http://xxx.xxx.xxx.xxx/cqc 的形式，也就是把原来的域名改成IP加目录的形式，要不然网站是无法访问的，会出现多重循环定向的提示。</p>
<p>好，其他的没什么问题，连接数据库错误的话就修改一下目录的 wp-config.php 文件吧，连接数据库的信息修改正确就好了。</p>
<h2>配置vhosts</h2>
<p>和 apache 一样，我们多个域名肯定要可以解析到不同的目录吧，nginx 当然也是支持的。</p>
<p>接下来我们需要把新域名解析到 cqc 目录，在 nginx 下怎么做呢？其实还是比较简单的。</p>
<p>在 /etc/nginx 目录下可以新建一个 vhosts文件夹。在这里我们要解析 cqc 目录，那么我就新建一个 cqc.conf 文件。</p>
<p>现在例如我要把 blog.cuiqingcai.com 解析到 cqc 文件夹，配置如下</p><pre class="crayon-plain-tag">server {
	listen 80;
	server_name cuiqingcai.com blog.cuiqingcai.com;
	
	index index.html index.htm index.php;
	root /var/www/cqc;
	
	location / {
		
		if (!-e $request_filename) {
			rewrite ^([_0-9a-zA-Z-]+)?(/wp-.*) $2 last;
			rewrite ^([_0-9a-zA-Z-]+)?(/.*\.php)$ $2 last;
			rewrite ^ /index.php last;
		}
	}
	
	location ~ \.php$ {
		fastcgi_pass 127.0.0.1:9000;
	#	# With php5-fpm:
	#	fastcgi_pass unix:/var/run/php5-fpm.sock;
		fastcgi_index index.php;
		fastcgi_param SCRIPT_FILENAME /var/www/cqc$fastcgi_script_name;
		include fastcgi_params;
	}
}</pre><p>其中</p><pre class="crayon-plain-tag">location / {
		
		if (!-e $request_filename) {
			rewrite ^([_0-9a-zA-Z-]+)?(/wp-.*) $2 last;
			rewrite ^([_0-9a-zA-Z-]+)?(/.*\.php)$ $2 last;
			rewrite ^ /index.php last;
		}
	}</pre><p>这一部分是伪静态重写，因为我的博客用的是wordpress，所以伪静态重写是这样的。当然还有其他的重写方式可以尝试。</p>
<p>之后在 /etc/nginx/nginx.conf 中的 http{} 中添加一行</p><pre class="crayon-plain-tag">include /etc/nginx/vhosts/cqc.conf;</pre><p>则代表引用了这个文件。</p>
<p>注意，还要把 域名设置一下，添加一条A记录到主机上。</p>
<p>好了，一切大功告成了。</p>
<h2>后记</h2>
<p>迁移和配置的过程坑实在是太多了，列列吧，警醒世人呐。</p>
<p>（1）代码迁移过程上传git，整个项目差不多1个G，由于数据量太大，导致内存不够无法正常上传。后来删除了图片，发现项目还是很大，结果发现是 .git 目录已经占用了上百兆，后来打包排除这个目录迁移的。</p>
<p>（2）数据库迁移的时候由于phpMyAdmin上传大小限制，修改了一番上传大小结果发现没生效，还倒腾了一下php-fpm，后来发现可以直接上传压缩包，那就分分钟完成了。</p>
<p>（3）配置完之后发现网站首页正常访问了，可是其他页面全部出现了404错误，后来配置了一番伪静态解析发现配置代码直接写在了 localhost server里面，后来发现可以直接新写一个 server，然后配置域名servername，然后配置伪静态重写才成功。</p>
<p>总之，坎坷是多，但是，自己慢慢摸索出来，也是一种不错的体验。</p>
<p>当你成功之后，会觉得世界又是那么美好。</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2227.html">WordPress从Apache迁移到Nginx过程</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2227.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
		<item>
		<title>Android开发之2048安卓版</title>
		<link>http://cuiqingcai.com/2200.html</link>
		<comments>http://cuiqingcai.com/2200.html#comments</comments>
		<pubDate>Sat, 07 Nov 2015 07:06:58 +0000</pubDate>
		<dc:creator><![CDATA[大龄锅]]></dc:creator>
				<category><![CDATA[Java]]></category>
		<category><![CDATA[技术杂谈]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2200</guid>
		<description><![CDATA[之前是在eclipse上写的，后面换成了android sudio。 2048游戏的UI整体可以采用线性布局， [&#8230;]]]></description>
				<content:encoded><![CDATA[<p>之前是在eclipse上写的，后面换成了android sudio。</p>
<p>2048游戏的UI整体可以采用线性布局，即LinearLayout，其中嵌套一个线性布局和一个GridLayout，内嵌的线性布局填充文本框，以显示分数，GridLayout中填充4&#215;4的继承自FrameLayout的card类作为主要的游戏界面。由于大部分操作都在GridLayout中进行，可以自定义一个继承自GridLayout的类GameView，类中定义判定上下左右滑动的方法和每次滑动后自动添加一个随机数字的方法以及每次滑动后判断游戏是否可以继续进行的方法。</p>
<p>主布局activity_main.xml代码如下</p><pre class="crayon-plain-tag">&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
    xmlns:tools="http://schemas.android.com/tools"
    android:id="@+id/container"
	//match_parent表示布局充满整个屏幕
    android:layout_width="match_parent"
    android:layout_height="match_parent"
    tools:context="com.example.administractor.game2048.MainActivity"
	//里面的组件垂直放置
    android:orientation="vertical"
    tools:ignore="MergeRootFrame"&gt;

    &lt;LinearLayout
	//宽度充满整个屏幕，高度自适应。
        android:layout_width="fill_parent"
        android:layout_height="wrap_content"
        android:orientation="horizontal" &gt;
		//显示当前分数的文本框
        &lt;TextView android:layout_width="wrap_content"
            android:layout_height="wrap_content"
            android:text="Your Score:"/&gt;
        &lt;TextView
            android:id="@+id/tvScore"
            android:layout_width="wrap_content"
            android:layout_height="wrap_content"/&gt;
    &lt;/LinearLayout&gt;
	//使用自定义的GridLayout
    &lt;com.example.administractor.game2048.GameView
        android:layout_width="fill_parent"
        android:layout_height="0dp"
        android:layout_weight="1"
        android:id="@+id/GameView" &gt;
    &lt;/com.example.administractor.game2048.GameView&gt;
&lt;/LinearLayout&gt;</pre><p>GameView.java：</p><pre class="crayon-plain-tag">package com.example.administrator.game2048;

import java.util.ArrayList;
import java.util.List;

import android.app.AlertDialog;
import android.content.Context;
import android.content.DialogInterface;
import android.graphics.Point;
import android.util.AttributeSet;
import android.view.MotionEvent;
import android.view.View;
import android.widget.GridLayout;

public class GameView extends GridLayout {
//调用类构造方法
    public GameView(Context context, AttributeSet attrs, int defStyle) {
        super(context, attrs, defStyle);
        //初始化游戏
		InitGameView();
    }

    public GameView(Context context, AttributeSet attrs) {
        super(context, attrs);
        InitGameView();
    }

    public GameView(Context context) {
        super(context);
        InitGameView();
    }
    private void InitGameView(){
		//设置为4x4个方格
        setColumnCount(4);
		//设置背景颜色
        setBackgroundColor(0xffeee4da);

		//判定滑动方向
        setOnTouchListener(new OnTouchListener() {
            private float startx,starty,offsetx,offsety;
            @Override
            public boolean onTouch(View v, MotionEvent event) {
                switch(event.getAction()){
                    case MotionEvent.ACTION_DOWN:
                        startx=event.getX();
                        starty=event.getY();
                        break;
                    case MotionEvent.ACTION_UP:
                        offsetx=event.getX()-startx;
                        offsety=event.getY()-starty;
                        if(Math.abs(offsetx)&gt;Math.abs(offsety)){
                            if(offsetx&lt;-5){
                                swipeLeft();
                            }else if(offsetx&gt;5){
                                swipeRight();
                            }
                        }else{
                            if(offsety&lt;-5){
                                swipeUp();
                            }else if(offsetx&gt;3){
                                swipeDown();
                            }
                        }
                        break;
                }
                return true;
            }
        });
    }
	//适应不同大小的屏幕
    @Override
    protected void onSizeChanged(int w, int h, int oldw, int oldh) {
        super.onSizeChanged(w, h, oldw, oldh);
        int cardWidth=(Math.min(h, w))/4;
        addCards(cardWidth,cardWidth);
        startGame();
    }
	//在4x4的方格上添加满卡片
    public void addCards(int cardwidth,int cardheight){
        Card c;
        for (int y = 0; y &lt; 4; y++) {
            for (int x = 0; x &lt; 4; x++) {
                c=new Card(getContext());
                c.setNum(0);
                addView(c, cardwidth, cardheight);
                cardmap[x][y]=c;
            }
        }
    }
	//游戏开始时每个卡片默认值设为0，并随机添加两张带数字的卡片
    private void startGame(){
        MainActivity.getMainActivity().clearScore();
        for (int y = 0; y &lt; 4; y++) {
            for (int x = 0; x &lt; 4; x++) {
                cardmap[x][y].setNum(0);
            }
        }
        addRandomNum();
        addRandomNum();
    }
    private void addRandomNum() {
		//使用emptypoints将数字为0的card提取出来，并随即选择一个空card赋值
        emptyPoints.clear();
        for (int y = 0; y &lt; 4; y++) {
            for (int x = 0; x &lt; 4; x++) {
                if(cardmap[x][y].getNum()&lt;=0){
                    emptyPoints.add(new Point(x,y));
                }
            }
        }
        Point p=emptyPoints.remove((int)(Math.random()*emptyPoints.size()));
		//2和4出现的概率控制在1：9
        cardmap[p.x][p.y].setNum(Math.random()&gt;0.1?2:4);
    }
	//左滑方法
    private void swipeLeft(){
		//merge作为判断能否滑动的flag
        boolean merge = false;
        for (int y = 0; y &lt; 4; y++) {
            for (int x = 0; x &lt; 4; x++) {
                for (int x1 = x+1; x1 &lt;4; x1++) {
                    if(cardmap[x1][y].getNum()&gt;0){
                        if(cardmap[x][y].getNum()&lt;=0){
                            cardmap[x][y].setNum(cardmap[x1][y].getNum());
                            cardmap[x1][y].setNum(0);
                            merge=true;
                            x--;
                        }else if(cardmap[x][y].equal(cardmap[x1][y])){
                            cardmap[x][y].setNum(cardmap[x][y].getNum()*2);
                            cardmap[x1][y].setNum(0);
                            MainActivity.getMainActivity().addScore(cardmap[x][y].getNum());
                            merge=true;
                        }
                        break;
                    }
                }
            }
        }
        if(merge){
            addRandomNum();
            checkComplete();
        }
    }
	//下滑
    private void swipeDown(){

        boolean merge = false;

        for (int x = 0; x &lt; 4; x++) {
            for (int y = 3; y &gt;=0; y--) {

                for (int y1 = y-1; y1 &gt;=0; y1--) {
                    if (cardmap[x][y1].getNum()&gt;0) {

                        if (cardmap[x][y].getNum()&lt;=0) {
                            cardmap[x][y].setNum(cardmap[x][y1].getNum());
                            cardmap[x][y1].setNum(0);

                            y++;
                            merge = true;
                        }else if (cardmap[x][y].equal(cardmap[x][y1])) {
                            cardmap[x][y].setNum(cardmap[x][y].getNum()*2);
                            cardmap[x][y1].setNum(0);
                            MainActivity.getMainActivity().addScore(cardmap[x][y].getNum());
                            merge = true;
                        }

                        break;
                    }
                }
            }
        }

        if (merge) {
            addRandomNum();
            checkComplete();
        }
    }
	//上滑
    private void swipeUp(){

        boolean merge = false;

        for (int x = 0; x &lt; 4; x++) {
            for (int y = 0; y &lt; 4; y++) {

                for (int y1 = y+1; y1 &lt; 4; y1++) {
                    if (cardmap[x][y1].getNum()&gt;0) {

                        if (cardmap[x][y].getNum()&lt;=0) {
                            cardmap[x][y].setNum(cardmap[x][y1].getNum());
                            cardmap[x][y1].setNum(0);

                            y--;

                            merge = true;
                        }else if (cardmap[x][y].equal(cardmap[x][y1])) {
                            cardmap[x][y].setNum(cardmap[x][y].getNum()*2);
                            cardmap[x][y1].setNum(0);
                            MainActivity.getMainActivity().addScore(cardmap[x][y].getNum());
                            merge = true;
                        }

                        break;

                    }
                }
            }
        }

        if (merge) {
            addRandomNum();
            checkComplete();
        }
    }
	//右滑
    private void swipeRight(){
        boolean merge = false;
        for (int y = 0; y &lt; 4; y++) {
            for (int x = 3; x &gt;=0; x--) {
                for (int x1 = x-1; x1 &gt;=0; x1--) {
                    if(cardmap[x1][y].getNum()&gt;0){
                        if(cardmap[x][y].getNum()&lt;=0){
                            cardmap[x][y].setNum(cardmap[x1][y].getNum());
                            cardmap[x1][y].setNum(0);
                            x++;
                            merge=true;
                        }else if(cardmap[x][y].equal(cardmap[x1][y])){
                            cardmap[x][y].setNum(cardmap[x][y].getNum()*2);
                            cardmap[x1][y].setNum(0);
                            MainActivity.getMainActivity().addScore(cardmap[x][y].getNum());
                            merge=true;
                        }
                        break;
                    }
                }
            }
        }
        if(merge){
            addRandomNum();
            checkComplete();
        }
    }
	//如果有空卡片或者相邻的值相同卡片则游戏还能进行
    public void checkComplete(){
        boolean complete=true;
        ALL:
        for (int y = 0; y &lt;4; y++) {
            for (int x = 0; x &lt;4; x++) {
                if(cardmap[x][y].getNum()==0||
                        x&gt;0&amp;&amp;cardmap[x][y].equal(cardmap[x-1][y])||
                        x&lt;3&amp;&amp;cardmap[x][y].equal(cardmap[x+1][y])||
                        y&gt;0&amp;&amp;cardmap[x][y].equal(cardmap[x][y-1])||
                        y&lt;3&amp;&amp;cardmap[x][y].equal(cardmap[x][y+1])){
                    complete=false;
                    break ALL;
                }
            }
        }
		//游戏结束弹出alert提示窗口
        if(complete){
            new AlertDialog.Builder(getContext()).setTitle("大林哥温馨提示").setMessage("游戏结束").setPositiveButton("重来",new DialogInterface.OnClickListener() {

                @Override
                public void onClick(DialogInterface arg0, int arg1) {
                    startGame();
                }
            }).show();
        }

    }
    private Card[][] cardmap=new Card[4][4];
    private List&lt;Point&gt; emptyPoints=new ArrayList&lt;Point&gt;();
}</pre><p>主类MainActivity.java：</p><pre class="crayon-plain-tag">package com.example.administrator.game2048;

import android.app.Activity;
import android.os.Bundle;
import android.widget.TextView;

public class MainActivity extends Activity {

    public MainActivity(){
        mainActivity=this;
    }
    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        tvscore = (TextView) findViewById(R.id.tvScore);
    }
    public void clearScore(){
        score=0;
        showScore();
    }
    public void showScore(){
        tvscore.setText(score+"");
    }
    public void addScore(int s){
        score+=s;
        showScore();
    }
    private TextView tvscore;
    private int score=0;
    public static MainActivity mainActivity=null;
    public static MainActivity getMainActivity() {
        return mainActivity;
    }
}</pre><p>Card.java：</p><pre class="crayon-plain-tag">package com.example.administrator.game2048;

import android.content.Context;
import android.view.Gravity;
import android.view.View;
import android.widget.FrameLayout;
import android.widget.TextView;

public class Card extends FrameLayout {

    public Card(Context context) {
        super(context);
        LayoutParams lp = null;

        View background = new View(getContext());
		//参数-1表示layoutparams填充满整个父容器
        lp = new LayoutParams(-1, -1);
		//设置卡片之间有10像素的间隔
        lp.setMargins(10, 10, 0, 0);
        background.setBackgroundColor(0x33ffffff);
        addView(background, lp);

        label = new TextView(getContext());
        label.setTextSize(28);
        label.setGravity(Gravity.CENTER);

        lp = new LayoutParams(-1, -1);
        lp.setMargins(10, 10, 0, 0);
        addView(label, lp);

        setNum(0);
    }



    private int n=0;
    public int getNum(){
        return n;
    }
	//设置数字及对应的背景颜色
    public void setNum(int n){
        this.n=n;
        if(n&lt;=0){
            label.setText("");
        }else{
            label.setText(n+"");
        }
        switch (n) {
            case 0:
                label.setBackgroundColor(0x00000000);
                break;
            case 2:
                label.setBackgroundColor(0xffeee4da);
                break;
            case 4:
                label.setBackgroundColor(0xffede0c8);
                break;
            case 8:
                label.setBackgroundColor(0xfff2b179);
                break;
            case 16:
                label.setBackgroundColor(0xfff59563);
                break;
            case 32:
                label.setBackgroundColor(0xfff67c5f);
                break;
            case 64:
                label.setBackgroundColor(0xfff65e3b);
                break;
            case 128:
                label.setBackgroundColor(0xffedcf72);
                break;
            case 256:
                label.setBackgroundColor(0xffedcc61);
                break;
            case 512:
                label.setBackgroundColor(0xffedc850);
                break;
            case 1024:
                label.setBackgroundColor(0xffedc53f);
                break;
            case 2048:
                label.setBackgroundColor(0xffedc22e);
                break;
            default:
                label.setBackgroundColor(0xff3c3a32);
                break;
        }
    }
	//判断卡片是否相等
    public boolean equal(Card o){
        return getNum()==o.getNum();
    }
    private TextView label;
}</pre><p>&nbsp;<br />
<img src="http://img.blog.csdn.net/20151031225217834?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p>
<p><img src="http://img.blog.csdn.net/20151031225316437?watermark/2/text/aHR0cDovL2Jsb2cuY3Nkbi5uZXQv/font/5a6L5L2T/fontsize/400/fill/I0JBQkFCMA==/dissolve/70/gravity/Center" alt="" /></p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2200.html">Android开发之2048安卓版</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2200.html/feed</wfw:commentRss>
		<slash:comments>2</slash:comments>
		</item>
		<item>
		<title>计算机网络探究三之搭建并连接VPN服务器</title>
		<link>http://cuiqingcai.com/2188.html</link>
		<comments>http://cuiqingcai.com/2188.html#comments</comments>
		<pubDate>Fri, 30 Oct 2015 07:33:28 +0000</pubDate>
		<dc:creator><![CDATA[崔庆才]]></dc:creator>
				<category><![CDATA[Net]]></category>
		<category><![CDATA[技术杂谈]]></category>

		<guid isPermaLink="false">http://cuiqingcai.com/?p=2188</guid>
		<description><![CDATA[openvpn原理 VPN直译就是虚拟专用通道，是提供给企业之间或者个人与公司之间安全数据传输的隧道，Open [&#8230;]]]></description>
				<content:encoded><![CDATA[<h2 style="text-align: left;">openvpn原理</h2>
<p>VPN直译就是虚拟专用通道，是提供给企业之间或者个人与公司之间安全数据传输的隧道，OpenVPN无疑是Linux下开源VPN的先锋，提供了良好的性能和友好的用户GUI。</p>
<p>它大量使用了OpenSSL加密库中的SSLv3/TLSv1协议函数库。</p>
<p>目前OpenVPN能在Solaris、Linux、OpenBSD、FreeBSD、NetBSD、Mac OS X与Microsoft Windows以及Android和iOS上运行，并包含了许多安全性的功能。它并不是一个基于Web的VPN软件，也不与IPsec及其他VPN软件包兼容。</p>
<p>openvpn通过使用公开密钥（非对称密钥，加密解密使用不同的key，一个称为Publice key，另外一个是Private key）对数据进行加密的。这种方式称为TLS加密。</p>
<p>openvpn使用TLS加密的工作过程是，首先VPN Sevrver端和VPN Client端要有相同的CA证书，双方通过交换证书验证双方的合法性，用于决定是否建立VPN连接。</p>
<p>然后使用对方的CA证书，把自己目前使用的数据加密方法加密后发送给对方，由于使用的是对方CA证书加密，所以只有对方CA证书对应的Private key才能解密该数据，这样就保证了此密钥的安全性，并且此密钥是定期改变的，对于窃听者来说，可能还没有破解出此密钥，VPN通信双方可能就已经更换密钥了。</p>
<p>扩展阅读：</p>
<p><a class="dl link" href="http://baike.baidu.com/link?url=ssl8SkkfVHTcjm9UCzJ8AsJOhIHMYcxuIisO4pqyqaZF6llwP1r0fgLvYEmAg_zYhFWauFzfEyXmEmFcaprG2K">openvpn</a></p>
<h2>安装openvpn</h2>
<p>首先，你需要有一台长期运行的服务器，大家可以用自己的闲置的电脑或者买一台阿里云啦。</p>
<p>我的服务器是Ubuntu 14.04，下面就演示一下我的配置过程。</p>
<p>安装</p><pre class="crayon-plain-tag">sudo apt-get -y install openvpn libssl-dev openssl</pre><p>查看下版本并记录下来</p><pre class="crayon-plain-tag">openvpn --version</pre><p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030145358.jpg"><img class="alignnone size-full wp-image-2189" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030145358.jpg" alt="20151030145358" width="638" height="217" /></a></p>
<p>在这里我们的版本是2.3.2</p>
<h2>安装easy-rsa</h2>
<p>easy-rsa是用来制作openvpn相关证书的，使用如下命令安装</p><pre class="crayon-plain-tag">sudo apt-get -y install easy-rsa</pre><p>好，一切准备就绪后，我们就开始制作证书啦，我们需要制作的有三个证书</p>
<p>CA证书、Server端证书、Client端证书。行动起来。</p>
<h2>制作CA证书</h2>
<p>openvpn与easy-rsa安装完毕后，我们需要在/etc/openvpn/目录下创建easy-rsa文件夹，如下</p><pre class="crayon-plain-tag">sudo mkdir /etc/openvpn/easy-rsa/</pre><p>然后把/usr/share/easy-rsa/目录下的所有文件全部复制到/etc/openvpn/easy-rsa/下</p><pre class="crayon-plain-tag">sudo cp -r /usr/share/easy-rsa/* /etc/openvpn/easy-rsa/</pre><p>当然，我们也可以直接在/usr/share/easy-rsa/制作相关的证书，但是为了后续的管理证书的方便，我们还是把easy-rsa放在了openvpn的启动目录下。</p>
<p><strong>注意：由于我们现在使用的是ubuntu系统，所以我们必须切换到root用户下才能制作相关证书，否则easy-rsa会报错。如果是centos系统，则不存在此问题。</strong></p>
<p>切换到root用户下，使用如下命令：</p><pre class="crayon-plain-tag">sudo su</pre><p>在开始制作CA证书之前，我们还需要编辑vars文件，修改如下相关选项内容即可</p><pre class="crayon-plain-tag">sudo vi /etc/openvpn/easy-rsa/vars</pre><p></p><pre class="crayon-plain-tag">export KEY_COUNTRY="CN"
export KEY_PROVINCE="SD"
export KEY_CITY="JiNan"
export KEY_ORG="germy"
export KEY_EMAIL="cqc@cuiqingcai.com"
export KEY_OU="germy"
export KEY_NAME="germy"</pre><p>如图所示</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030150125.jpg"><img class="alignnone size-full wp-image-2190" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030150125.jpg" alt="20151030150125" width="432" height="206" /></a></p>
<p>之后，我们需要利用这个文件来制作我们的证书，保存一下。</p>
<p>然后一个很重要的一步，赋予权限，否则在制作证书的时候，值还是初始化的值。</p><pre class="crayon-plain-tag">sudo chmod 777 /etc/openvpn/easy-rsa/vars</pre><p>vars文件主要用于设置证书的相关组织信息，红色部分的内容可以根据自己的实际情况自行修改。</p>
<p>其中export KEY_NAME=&#8221;germy&#8221; 这个要记住下，我们下面在制作Server端证书时，会使用到。</p>
<p><strong>注意：以上内容，我们也可以使用系统默认的，也就是说不进行修改也是可以使用的。</strong></p>
<p>然后使用source vars命令使其生效，如下：</p><pre class="crayon-plain-tag">source vars
./clean-all</pre><p>注意：执行clean-all命令会删除，当前目录下的keys文件夹。</p>
<p>现在开始正式制作CA证书，使用如下命令：</p><pre class="crayon-plain-tag">cd /etc/openvpn/easy-rsa/
./build-ca</pre><p>一路回车即可。</p>
<p>制作完成后，我们可以查看keys目录里有什么东西。</p>
<p>如果你的目录下出现了ca.crt和ca.key两个文件，其中ca.crt就是我们所说的CA证书。如此，CA证书制作完毕。</p>
<p>现在把该CA证书的ca.crt文件复制到openvpn的启动目录/etc/openvpn下，如下：</p><pre class="crayon-plain-tag">cp keys/ca.crt /etc/openvpn/</pre><p></p>
<h2>制作Server端证书</h2>
<p>CA证书制作完成后，我们现在开始制作Server端证书。如下：</p><pre class="crayon-plain-tag">./build-key-server germy</pre><p>上述命令中germy，就是我们前面vars文件中设置的KEY_NAME</p>
<p>查看 keys 目录</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030150704.jpg"><img class="alignnone size-full wp-image-2191" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030150704.jpg" alt="20151030150704" width="569" height="339" /></a></p>
<p>如果可以发现出现了 germy.crt，germy.csr，germy.key 文件，就说明成功了。</p>
<p>现在再为服务器生成加密交换时的Diffie-Hellman文件，如下：</p><pre class="crayon-plain-tag">./build-dh</pre><p>你会发现目录下多了一个 dh2048.pem 文件。</p>
<p>以上操作完毕后，把germy.crt，germy.key，dh2048.pem 复制到 /etc/openvpn/ 目录下，如下：</p><pre class="crayon-plain-tag">cd /etc/openvpn/easy-rsa/
cp keys/germy.crt keys/germy.key keys/dh2048.pem /etc/openvpn/</pre><p>如此，Server端证书就制作完毕。</p>
<h2>制作Client端证书</h2>
<p>Server端证书制作完成后，我们现在开始制作Client端证书，如下：</p><pre class="crayon-plain-tag">./build-key cqc</pre><p>其中上述命令的cqc就是客户端证书名称，可以自定义</p>
<p>如果发现keys目录已经生成了cqc.csr、cqc.crt和cqc.key这个三个文件。其中cqc.crt和cqc.key两个文件是我们要使用的。</p>
<p>如此，Client端证书就制作完毕。</p>
<h2>配置Server端</h2>
<p>所有证书制作完毕后，我们现在开始配置Server端。Server端的配置文件，我们可以从openvpn自带的模版中进行复制。如下：</p><pre class="crayon-plain-tag">cp /usr/share/doc/openvpn/examples/sample-config-files/server.conf.gz /etc/openvpn/
cd /etc/openvpn/</pre><p>解压server.conf.gz 文件，使用如下命令：</p><pre class="crayon-plain-tag">gzip -d server.conf.gz</pre><p>注意：上述命令的意思是解压server.conf.gz文件后，然后删除原文件。</p>
<p>现在我们来修改server.conf文件</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030151728.jpg"><img class="alignnone size-full wp-image-2192" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030151728.jpg" alt="20151030151728" width="579" height="257" /></a></p>
<p>一共要修改3处文件</p>
<p>（1）修改了openvpn运行时使用的协议，由原来的UDP协议修改为TCP协议。生成环境建议使用TCP协议。</p>
<p>（2）修改了openvpn服务器的相关证书，由原来的server.csr、server.key修改为germy.crt、germy.key。</p>
<p>（3）修改了Diffie-Hellman文件，由原来的dh1024.pem修改为dh2048.pem。</p>
<p>配置文件修改完毕后，我们现在来启动openvpn，使用如下命令：</p><pre class="crayon-plain-tag">/etc/init.d/openvpn start</pre><p>至此，服务器端的VPN已经配置完毕了。</p>
<h2>客户端的配置</h2>
<p>服务器端配置好了，我们需要用另一台机器来连接，这里我们的客户端依然是Ubuntu 14.04</p>
<p>首先我们需要从服务器上取到刚才生成的证书文件，那么我们需要的有什么呢？</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030152200.jpg"><img class="alignnone size-full wp-image-2193" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030152200.jpg" alt="20151030152200" width="531" height="357" /></a></p>
<p>首先这三个，ca.crt，cqc.crt，cqc.key</p>
<p>另外是一个模板，它是</p>
<p>/usr/share/doc/openvpn/examples/sample-config-files/client.conf</p>
<p>把这四个文件下载下来，然后放到客户端里。</p>
<p>比如我们保存到客户机的 home/user 文件夹下</p>
<p><a href="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030152421.jpg"><img class="alignnone size-full wp-image-2194" src="http://qiniu.cuiqingcai.com/wp-content/uploads/2015/10/20151030152421.jpg" alt="20151030152421" width="359" height="35" /></a></p>
<p>把 client.conf 文件重命名为 client.ovpn</p>
<p>然后修改下面4处</p><pre class="crayon-plain-tag">proto tcp
remote 121.42.14.158 1194
ca ca.crt
cert cqc.crt
key cqc.key</pre><p>其中 remote 就是你的服务器地址</p>
<p>配置好了之后，我们运行</p><pre class="crayon-plain-tag">sudo openvpn --config client.ovpn</pre><p>如果最后的结果是  Sequence Completed</p>
<p>那就证明连接成功啦。</p>
<p>输入</p><pre class="crayon-plain-tag">ifconfig</pre><p>你会发现多了一个tun0适配器，这就是openvpn的适配器。</p>
<p>至此，openvpn的配置和连接就全部完成啦。</p>
<h2>参考来源</h2>
<p><a class="dl link" href="http://www.myhack58.com/Article/sort099/sort0102/2015/65155_4.htm">参考文献</a></p>
<p>如有问题，欢迎留言交流。</p>
<p>转载请注明：<a href="http://cuiqingcai.com">静觅</a> &raquo; <a href="http://cuiqingcai.com/2188.html">计算机网络探究三之搭建并连接VPN服务器</a></p>]]></content:encoded>
			<wfw:commentRss>http://cuiqingcai.com/2188.html/feed</wfw:commentRss>
		<slash:comments>0</slash:comments>
		</item>
	</channel>
</rss>

<!-- Dynamic page generated in 0.543 seconds. -->
<!-- Cached page generated by WP-Super-Cache on 2016-02-21 12:53:01 -->
